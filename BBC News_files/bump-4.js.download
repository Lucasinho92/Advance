undefined
!function(){var e=function(){function e(e,t){var i=e.exec(t);if(i){i.shift();return+i[0]}}function t(){var t=window.embeddedMedia.demi,o=t.ua,r=/ edge\//.test(o),s=/chrome/.test(o)&&!r,l=0,d=/trident/.test(o),c=0,u=/firefox/.test(o),p=0,m=/windows phone/.test(o),f="PlayStation 4"==navigator.platform;s&&(l=e(/chrome\/(\d+)(?:\.(\d*))?(?:\.(\d*))?(?:\.(\d*))?/,o));u&&(p=e(/firefox\/(\d+)(?:\.(\d*))?/,o));r&&(c=e(/edge\/(\d+)(?:\.(\d*))?/,o));var g=function(){var e=/mac/.test(o)&&!/like mac os x/.test(o),t={win:/windows/.test(o)&&!m,mac:e,macsafari:/safari/.test(o)&&e&&!s&&!r&&!m,ios:/like mac os x/.test(o),android:/android/.test(o)&&!r,playbook:/playbook/.test(o),blackberry:/blackberry/.test(o)||/bb10/.test(o),winphone:m,kindleSilk:/silk/.test(o),winwebview:/windows nt 10/.test(o)&&/webview/.test(o),win10arm:/windows nt 10\.[0-9]; arm/.test(o)};for(var i in t)t[i]&&(t.name=i);if(t.macsafari){o.match(/version\/[^\d]*([\d|\.]+\d)/);t.safariVersion=parseFloat(RegExp.$1);o.match(/mac os x 10_([\[0-9)][\[0-9)])/);t.macosVersion=parseInt(RegExp.$1,10)}if(t.ios){o.match(/os (\d+)/g);t.ios=parseInt(RegExp.$1,10)||t.ios}if(t.android){var n=o.match(/android (\d+(?:[\.\d]*)+)/i);t.androidVersion=n?parseFloat(n[1]):99}return t}(),h={connection:{mobile:t.isMobileNetwork},os:g,hasHlsVodSupport:g.ios||g.winwebview||g.win10arm||f,hasMseSupport:!!window.MediaSource};h.isMobileDevice=g.ios||g.android||g.blackberry||g.playbook||g.winphone;h.isTabletDevice=g.kindleSilk||g.winwebview||g.win10arm||o.match(/ipad/)||o.match(/sm-t/)||o.match(/tablet/);if(!h.hasMseSupport&&h.os.macsafari&&h.os.safariVersion>=10){h.isMobileDevice=!0;h.hasHlsVodSupport=!0}if(d&&!g.winphone){h.isMobileDevice=!1;h.isTabletDevice=!1}h.isMobileOrTablet=h.isMobileDevice||h.isTabletDevice;if(h.os.blackberry&&!n){n=!0;o.match(/version\/\d+.(\d+.\d+)/);var y=parseFloat(RegExp.$1);y>3&&i.push("blackberry")}if(h.os.winphone&&0===a){o.match(/windows phone (\d+.\d+)/);a=parseFloat(RegExp.$1);a>=10&&i.push("winphone")}for(var b=0;i.length>b;b++)h.os[i[b]]&&(h.hasHlsVodSupport=!0);h.allowHlsVod=function(){if(!h.hasHlsVodSupport&&(h.os.androidVersion>=4.1||!h.os.android&&!h.os.win)){i.push(h.os.name);h.hasHlsVodSupport=!0}};h.htmlAudio=h.os.androidVersion>=4.1||h.os.kindleSilk;h.preferHtmlAudio=t.isUK===!1&&h.os.androidVersion>=5;h.useOpaque=s||d&&!h.isMobileOrTablet;h.waitForLoad=8===document.documentMode||9===document.documentMode;var v=/smart.+tv/.test(o)||/linux; netcast/.test(o);h.supportsFlash=!h.isMobileOrTablet&&!f&&!v;h.smpj2Compatible=h.hasMseSupport&&!h.os.playbook;h.IE11=o.indexOf("trident/7.0")>0;h.supportsSvg=h.smpj2Compatible||h.os.ios>=8||h.os.androidVersion>=4.4&&s||h.IE11;h.supportChromecast=s&&window.chrome;h.requiresWindowOpenSMPAirLaunch=/fb_iab/.test(o)||/twitterandroid/.test(o)||/bbc_app/.test(o);h.hybrid=h.hasMseSupport||h.IE11&&(!document.documentMode||document.documentMode>=11);h.winXP=o.indexOf("nt 5")>0;var w=!h.isMobileOrTablet&&(l>=44&&!(h.winXP&&o.indexOf("opr/")>0)||p>=52&&!h.winXP||h.os.macsafari&&h.os.safariVersion>=10&&h.os.macosVersion>=12||v||c>=14||h.smpj2Compatible&&h.IE11&&o.indexOf("nt 6")==-1&&!h.winXP),P=/samsungbrowser/.test(o);h.preferHtmlPlayer=w||h.os.androidVersion>=6&&!P||g.kindleSilk&&h.os.androidVersion>=5&&l>60&&h.smpj2Compatible||/focus\//.test(o)&&h.smpj2Compatible||v&&h.isMobileOrTablet;h.webgl=function(){try{var e=document.createElement("canvas"),t="probablySupportsContext"in e?"probablySupportsContext":"supportsContext";return t in e?e[t]("webgl")||e[t]("experimental-webgl"):"WebGLRenderingContext"in window}catch(i){return!1}}();h.support360=!(!h.webgl||g.ios&&11>g.ios||/(trident\/)|(MSIE\s)/i.test(o)&&!r||g.macsafari&&12>g.macosVersion);h.mediasetDesktop=!h.isMobileOrTablet&&(d||/windows nt/.test(o)||/x11/.test(o)||h.os.mac);return h}var i=[],n=!1,a=0;return{get:t}}(),t=function(){var e,t;window.bumpDemiNetwork=function(e){var t=window.embeddedMedia,i=t.demi;i.isMobileNetwork=e&&e.is_mobile_network;for(var n=0;window.embeddedMedia.players.length>n;n++){var a=window.embeddedMedia.players[n];a.updateMediaset()}};var i=function(){var e=this;return e};i.prototype={determineConnectionType:function(i){if(!t){t=!0;var n=window.embeddedMedia,a="unknown",o=window.navigator.connection;if(o){var r=o.effectiveType;a=r?"4g"!=r?"cellular":"":o.type}if("unknown"==a&&!e){e=!0;var s="https:"==location.protocol?"https":"http",l=s+"://"+(i&&i.mediator&&i.mediator.host?i.mediator.host:"open.live.bbc.co.uk")+"/wurfldemi/",d=document.createElement("script");d.type="text/javascript";d.charset="utf-8";d.async=!0;d.src=l+"network.jsonp?callback=bumpDemiNetwork";document.getElementsByTagName("head")[0].appendChild(d)}n.demi.isMobileNetwork="cellular"===a}}};return i}(),i=function(){function e(e){if(n[e])for(;n[e].length>0;)n[e].pop()()}function t(e){if(2>l.length)return!0;for(var t=0;l.length>t;t++)if(l[t]==e)return!0;return!1}var i={en:{pgHeader:"Parental Guidance Lock",pgAgeConfirmation:"I am aged 16 or over",pgClose:"Close pop up",pgContinue:"Continue",pgPasswordValidationError:"Please confirm your age before continuing",pgAriaAgeConfirmCheckBox:"Age confirmation check box. Checked.",pgAriaAgeConfirmCheckBoxUnchecked:"Age confirmation check box. Check to confirm you are sixteen or over.",pgTurnOnParentalGuidance:"Turn on the Parental Guidance Lock?",pgInfoPlusDownload:"lets you set up a PIN to control access to Guidance-labelled BBC content on your chosen browser.<p>To set up your PIN choose \u2018Turn On\u2019. To continue without Parental Guidance choose \u2018Download\u2019.</p>",pgInfoPlusPlay:"lets you set up a PIN to control access to Guidance-labelled BBC content on your chosen browser.<p>To set up your PIN choose \u2018Turn On\u2019. To continue without Parental Guidance choose \u2018Play\u2019.</p>",pgInfo:"lets you set up a PIN to control access to Guidance-labelled BBC content on your chosen browser.",pgTurnOn:"Turn On",toolTipPlay:"Play",pgEnterPIN:"Please enter a four-digit PIN",pgActivateInfo:"You will need your PIN to play Guidance-labelled content",pgPINValidationError:"Your PIN must be four digits",pgAriaPINEntryDescription:"PIN entry text field",pgAriaPINPrompt:"Please enter a valid four-digit PIN",pgEnterPINPrompt:"Please enter your four-digit PIN to continue",pgManageYourPIN:"Manage your PIN",pgUnlock:"Unlock",pgIncorrectPIN:"Incorrect PIN. Please try again",newPgTurnOnParentalGuidance:"Turn on Parental Guidance Lock?",newPgTurnOnParentalGuidancePINsection:"Turn on Parental Guidance Lock",newPgTurnOnParentalGuidanceInsertPIN:"Parental Guidance Lock",newPgTurnOn:"Turn on PG Lock",newToolTipPlay:"Play without PG Lock",findOutMore:"Find out more",notSuitableForChildMessage:"This programme may not be suitable for children. Turn on PG Lock and we'll ask you to set up a PIN to control who can watch BBC content with a Guidance label on this browser.",newPgAgeConfirmationUnder16:"I've got permission.",newUnder16WithPermission:"You're signed in as someone who\u2019s under 16. So you need permission from a parent or guardian to play this.",newPgPlay:"Play",newPgEnterPIN:"Please choose a four-digit PIN.",newPgPINvalidationError:"Your PIN must be four digits long.",newPgIncorrectPIN:"Wrong PIN. Please try again.",newPgManageYourPIN:"Manage your lock",newPgEnterPINprompt:"Please enter your four-digit PIN.",newPgActivateInfo:"You'll need this to play any content with a Guidance label.",newPgEnterPINinfo:"This programme has a Guidance label.",newAgeConfirmationTitle:"Guidance",pgUnder16PermissionValidationError:"Please confirm you have permission before continuing",playbackSettingsHeading:"Playback settings",autoplaySettingHeading:"Autoplay",autoplaySettingSubheading:"Play next item automatically",off:"OFF",on:"ON",pgDownload:"Download",pgActivate:"Activate",6000:"Unable to embed player",errorUnsupported:"Your device is not currently supported",6004:"Player failed to initialise",embedTitle:"Embed This Media",embedDescription:"Copy the code below to share this content on your own site. Press escape to close",embedTerms:"Terms and conditions",embedClose:"Close",aaampTitle:"BBC Media Player",aaampMsg:"To play BBC Programmes you need to install the BBC Media Player application from your app store",aaampInstall:"Install",aaampCancel:"cancel",aaampPlay:"click to play",jumpMediaPlayer:"Jump media player",mediaPlayerHelp:"Media player help",outOfMediaPlayer:"Out of media player. Press enter to return or tab to continue.",errorFlashIsNeeded:"Sorry, you need Flash to play this.",enableFlash:"Enable it in your browser or {link}.",downloadFlashLink:"download Flash Player here",errorCantPlayInBrowser:"Sorry, this won't play in your web browser.",useMediaPlayerApp:"Use BBC Media Player app",screenreaderDefaultIframeTitle:"Media Player"}},n={},a={},o={},r=5e3,s={"en-GB":"en","en-gb":"en","cy-GB":"cy","cy-gb":"cy","gd-GB":"gd","gd-gb":"gd","ga-GB":"ga","ga-gb":"ga","ru-uk":"ru",zh:"zh-hans","sr-latn":"sr"},l="cy,gd,ga,fr,ar,az,ha,hi,id,ky,es,so,sw,tr,ur,fa,ru,uk,vi,si,rw,ps,ne,my,zh-hans,zh-hant,uz,tg,pt,ta,bn,jp,pi,am,gu,ko,mr,om,pa,pcm,te,th,ti,yo,ig,sr-cyrl".split(","),d={add:function(t,n){clearTimeout(o[t]);i[t]=n;e(t)},load:function(l,d){s[l]&&(l=s[l]);if(l&&/^[\-a-zA-Z]{1,8}$/.test(l)&&!i[l]&&t(l)){if(d){n[l]||(n[l]=[]);n[l].push(d)}if(!a[l]){a[l]=!0;var c=document.createElement("script");c.type="text/javascript";c.charset="utf-8";c.async=!0;c.src="//emp.bbci.co.uk/emp/translations/1.0.36/language."+l+".js";document.getElementsByTagName("head")[0].appendChild(c);clearTimeout(o[l]);o[l]=setTimeout(function(){e(l)},r)}}else d&&d()},t:function(e,t){s[t]&&(t=s[t]);return i[t]&&i[t][e]?i[t][e]:i.en[e]||e},screenreaderAlert:function(e){var t=document.createElement("div"),i=document.createElement("p");i.textContent=i.innerText=e;t.setAttribute("role","alert");t.setAttribute("style","width: 1px; position: absolute; left: -2500px; overflow: hidden;");document.body.appendChild(t);t.style.display="none";t.style.display="block";setTimeout(function(){document.body.removeChild(t)},2500)}};return d}(),n=function(){function e(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function n(e,t){t||(t=1);var i="position:relative;z-index:"+t+";height:100%;width:100%;";i+="padding-bottom:"+(e.superResponsive?"56.25%":"0");var n=document.createElement("div");n.setAttribute("style",i);return n}function a(e,t){for(var i in e)e.hasOwnProperty(i)&&t(i,e[i])}function o(e,t,i,n){i||(i=s);var a,r,l={};if(e)for(a in t)if(t.hasOwnProperty(a)&&(!n||!n[a])){r=t[a];a in e&&(e[a]===r||a in l&&l[a]===r)||(e[a]="object"==typeof e[a]&&null!==e[a]?o(e[a],r,i):i(r))}return e}function r(){var e=s(arguments[0]);if(e)for(var t=1;arguments.length>t;t++)arguments[t]&&(e=o(e,arguments[t],s));return e}function s(e,t){if(!e||"object"!=typeof e||e instanceof Date||e.nodeType||e.window==e)return e;var i,n,a;if(e instanceof Array){i=[];for(n=0,a=e.length;a>n;++n)n in e&&i.push(s(e[n]))}else i={};return o(i,e,s,t)}function l(){var e=document.createElement("video");return!(!e||!e.canPlayType)}function d(e,t){var i=document.createElementNS("http://www.w3.org/2000/svg",e);for(var n in t)t.hasOwnProperty(n)&&i.setAttributeNS(null,n,t[n]);return i}function c(e,t,i){i=!!i;window.PointerEvent?e.addEventListener("pointermove",function(e){"mouse"==e.pointerType&&t(e)},i):e.addEventListener("mousemove",t,i)}function u(e,t,i){i=!!i;window.PointerEvent?e.addEventListener("pointerleave",function(e){"mouse"==e.pointerType&&t(e)},i):e.addEventListener("mouseleave",t,i)}function p(e,t,i){i=!!i;if(window.PointerEvent)e.addEventListener("pointerdown",t,i);else{e.addEventListener("touchstart",function(i){t(i);e.focus();i.preventDefault()},i);e.addEventListener("mousedown",t,i)}}function m(e,t,i){i=!!i;if(window.PointerEvent)e.addEventListener("pointerup",t,i);else{e.addEventListener("touchend",t,i);e.addEventListener("mouseup",t,i)}}function f(e,t){var i=e+" "+t;i=i.trim().replace(/\s+/g,"\\b|\\b");return new RegExp("\\b"+i+"\\b","g")}function g(e,t){return e&&(e.className+"").indexOf(t)>-1}function h(e,t,i){if(e){var n=e.className;if(""!==n){n=n.replace(f(i||"",t),"").trim()+" "+t;e.className=n.trim().replace(/\s+/g," ")}else e.className=t}}function y(e,t,i,n){for(var a="object"==typeof t?t:t.split(/\s+/g),o=0;a.length>o;o++)e.addEventListener(a[o],i,n)}function b(e){var t=!1,i=function(){t=!1};return function(n){if(!t){e(n);t=!0;setTimeout(i,500)}}}return{hasClass:g,throttleFn:b,multiAddEventListener:y,className:h,hoverMoveAction:c,hoverLeaveAction:u,downAction:p,upAction:m,createSVGElement:d,isObjectEmpty:e,mixin:o,clone:s,hasVideo:l(),getWrapper:n,merge:r,each:a,addEmbeddedMedia:function(){if(window.embeddedMedia){window.embeddedMedia.playerInstances||(window.embeddedMedia.playerInstances={});window.embeddedMedia.players||(window.embeddedMedia.players=[]);isNaN(window.embeddedMedia.playerInits)&&(window.embeddedMedia.playerInits=0)}else window.embeddedMedia={players:[],playerInstances:{},playerInits:0};var e=window.embeddedMedia;if(!e.openCallbacks){e.openCallbacks=[];e.closedCallbacks=[];e.opened=function(t){for(var i=0;e.openCallbacks.length>i;i++)e.openCallbacks[i](t)};e.closed=function(t){for(var i=0;e.closedCallbacks.length>i;i++)e.closedCallbacks[i](t)}}e.addPlayer||(e.addPlayer=function(t,i){e.playerInstances[t]=i;e.players.push(i)});if(!e.distributeConfigToPlayers){var n=/^X0/;e.distributeConfigToPlayers=function(t,i,a){for(var o in e.playerInstances)e.playerInstances.hasOwnProperty(o)&&n.test(o)&&o!=a&&e.playerInstances[o].distributeConfig(t,i)}}e.language||(e.language=i);if(!e.demi){e.demi={callbacks:[],ua:window.navigator.userAgent.toLowerCase()};if(window.orb&&window.orb.fig){var a=window.orb.fig,o=a.geo;o&&o.isUK&&(e.demi.isUK=1===o.isUK())}e.demiHelper=new t}return e}}}(),a=function(){function t(e,t){if(e)for(var i=0;e.length>i;i++){var n=e[i];if(n){var a=n.kind;if("radioProgramme"==a||"audio"==a||!t&&(void 0===a||null===a||""===a||"programme"==n.kind))return n}}return null}var i={mediasets:{desktop:"pc",cellular:"mobile-cellular-baseline",mobile:"mobile-phone-baseline",tablet:"mobile-tablet-baseline"},findProgramme:t,firstProgramme:function(e,i){return t(e&&e.items,i)},mediationUrls:function(e,t,n){var a=n?"ediatorHref":"ediationUrl",o=i.mediaSet(t);n&&(o=o.replace("baseline","main"));e["m"+a]=i.mediatorHref(t,o,n);t.mediator.saml&&(e["samlM"+a]=i.mediatorHref(t,o,n,!0));return o},mediaSet:function(t){if(t.mediator.overrideMediaSet)return t.mediator.overrideMediaSet;if("background"==t.product)return"mobile-tablet-main";var i=n.addEmbeddedMedia(),a=t.mediasets=this.mediasets,o=e.get();return o.mediasetDesktop?a.desktop:i.demi.isMobileNetwork?a.cellular:o.isTabletDevice?a.tablet:a.mobile},mediatorHref:function(e,t,i,a){var o="{protocol}://{host}/mediaselector/5/select/version/2.0/mediaset/{mediaset}/vpid/{id}";a&&(o="https://{saml}/saml/mediaselector/5/select/version/2.0/mediaset/{mediaset}/vpid/{id}");if(!a){var r=location.host+"";r.match(/preview\..*api/gim)||(o=o.replace("/mediaselector/5/select/","/mediaselector/6/select/"))}o+=i?"/format/json/jsfunc/{callback}":"/format/xml";var s={href:o,protocol:(location.protocol+"").substr(0,5),host:"open.live.bbc.co.uk",mediaset:t};n.mixin(s,e.mediator);var l=s.href;"https"!=s.protocol&&(s.protocol="http");n.each(s,function(e,t){l=l.replace("{"+e+"}",t)});return l}};return i}(),o=function(){function e(e){e&&e.getFullYear||(e=new Date);var t=Math.floor(1.25*e.getFullYear()),i=e.valueOf(),n=new Date(i);n.setMonth(2);n.setDate(31-(t+4)%7);n.setUTCHours(1);n.setUTCMinutes(0);n.setUTCSeconds(0);var a=new Date(i);a.setMonth(9);a.setDate(31-(t+1)%7);a.setUTCHours(1);a.setUTCMinutes(0);a.setUTCSeconds(0);return e>n&&a>e}function t(e,t,i){if("playlistObject"==t||"today"==t)e[t]=i;else{var a="object"==typeof i;e[t]=a&&"object"==typeof l[t]?n.merge(e[t],i):i}}function i(e,t,i){if(e&&u.test(e)){var n=0;t&&t.width&&(n=t.width());(0===n||isNaN(n))&&(n=768);i&&i.densityMultiplier&&(n*=i.densityMultiplier);for(var a=d.length-1;a>0&&!(n/d[a]>.98);a--);var o=d[a]+"x"+c[a],r=1024>=d[a]?d[a]:1536;return e.replace(/[\${]recipe}?/,o).replace(/[\${]width}?/,r)}}var o={iplayer:{guidanceCleared:!1,siteID:"iPlayer",defaultUiClass:"iplayer",ui:{cta:{iplayer:!0},guidance:{displayContinuousGuidanceInQueuePlaylist:!1}}},news:{ui:{colour:"#bb1919",alternateColour:"#bb1919",cta:{mode:"duration"}},preferPlainOverDash:!0,guidanceCleared:!0,siteID:"News",defaultUiClass:"news",preferHtmlOnMobile:!0},sport:{ui:{colour:"#eed71c",foreColour:"#000000",alternateColour:"#0087ff",alternateForeColour:"#ffffff"},siteID:"Sport",defaultUiClass:"sport",guidanceCleared:!0},background:{muted:!0,autoplay:!0},generic:{ui:{colour:"#ebebeb",foreColour:"#101010"},guidanceCleared:!0}},r="true"=="true",s={locale:{lang:"en",path:"//emp.bbci.co.uk/emp/translations/1.0.36/{lang}.xml"},subtitles:{supportLiveSubtitles:!0},thumbnail:{enabled:!0},colour:"#f54997",foreColour:"#ffffff",alternateColour:"#f54997",alternateForeColour:"#ffffff",guidance:{pgColour:"#f54997",pgSeparatorColour:"#252833",pgBackgroundColour:"#0c101c"},cta:{direction:null}},l={swfUrl:"//emp.bbci.co.uk/emp/SMPf/1.21.7/StandardMediaPlayerChromelessFlash.swf",playlist:"",startTime:0,volume:.7,overrideHoldingImage:"",product:"iplayer",today:new Date,guidance:{},mediator:{},experimentalDashPercentage:parseFloat("0"),preferHttpsPercentage:parseFloat("0.5"),includeAppClickHandler:!0,plugins:{toLoad:[]},configVars:{},quality:"hd",uiClass:"",enableStatsReporting:!0,customRdotBaseURL:"//r.bbci.co.uk/e",autoplay:!1,enableRdotReporting:!0,enableSonarReporting:!0,enableBarbReporting:!0,enableAtiReporting:!0,statsObject:{},embedPageURL:location.href,forceGuidance:"",aaampGuidance:"",appName:"",appType:"",counterName:"smp.player.page",siteID:"",significantTime:10,playerType:"",blacklistedPlugins:["eavis"],namedPlugins:{"dfpAds.swf":"//emp.bbci.co.uk/plugins/dfpAds/2.22.0/dfpAds.swf","dfpAds.js":"//emp.bbci.co.uk/plugins/dfpAdsHTML/3.25.0/js/dfpAds.js","continuousPlay.swf":"//emp.bbci.co.uk/plugins/continuousPlay/2.16.0/continuousPlay.swf","continuousPlay.js":"//emp.bbci.co.uk/plugins/continuousPlayHTML/1.23.5/js/continuousPlay.js","endSlate.swf":"//emp.bbci.co.uk/plugins/endSlate/1.6.0/endSlate.swf","endSlate.js":"//emp.bbci.co.uk/plugins/endSlateHTML/1.8.0/js/endSlate.js","preview.js":"//emp.bbci.co.uk/plugins/preview/1.1.0/js/preview.js","onwardJourney.js":"//emp.bbci.co.uk/plugins/onwardJourneyHTML/2.3.2/js/onwardJourney.js"},supportLiveRewindOnMobile:!0,suppressType:[],suppressItemKind:[],responsive:!0,ui:{},webcastData:{},allowMainlineProfiles:!0,liveEnvironment:r,preferHtmlControls:!0,httpsVpids:"",over16:!1,under16:!1,backgroundSettings:{},threeSixty:!1,disablePreload:!1,skipInterval:20,embeddedOffsite:!1},d=[320,384,432,480,512,608,640,688,720,768,800,832,976,1024,1376,1920],c=[180,216,243,270,288,342,360,387,405,432,450,468,549,576,774,1080],u=new RegExp("^//|^http[s]{0,1}://","i"),p=function(e){return this.init(e)};p.prototype={set:function(i){var n=this;if("object"==typeof i)for(var a in i)i.hasOwnProperty(a)&&t(n,a,i[a]);for(a in n.webcastData)if(n.webcastData.hasOwnProperty(a)){var o=n.webcastData[a];"[object Date]"===Object.prototype.toString.call(o)&&(n.webcastData[a]=o.getTime()/1e3)}n.isBSTime=e(n.today);return n},init:function(e){var i=this,a=n.clone(l);for(var r in a)a.hasOwnProperty(r)&&(i[r]=a[r]);"object"!=typeof e&&(e={});var d=e.product||l.product,c=o[d]||o.generic;for(r in c)if(c.hasOwnProperty(r)){var u=c[r];t(i,r,u)}i.ui=n.merge(n.clone(s),c.ui);var p="";try{p=document.cookie+""}catch(m){}if(!i.allowTracking){for(var f=!1,g=["bbc.co.uk","bbc.com","britbox.com","bbcconnectedstudio.co.uk"],h=0;g.length>h;h++)location.host.indexOf(g[h])!==-1&&(f=!0);f||(i.noTracking=!0)}p.match(/NO-SA=1/)&&(i.noTracking=!0);p.match(/html5Debug=true/)&&(i.html5Debug=!0);p.indexOf("ckps_smpj2OptIn=true")>-1&&(i.smpj2OptIn=!0);p.indexOf("ckps_smpj2nohybrid=true")>-1&&(i.smpj2NoHybrid=!0);p.indexOf("_smpj2Beta=true")>-1&&(i.smpj2Beta=!0);return i.set(e)},locale:function(){return this.ui.locale.lang},playingAudio:function(){var e=this;if(e.willPlayAudio)return!0;var t=a.firstProgramme(e.playlistObject);return t?"radioProgramme"==t.kind||"audio"==t.kind:!0},posterUrl:function(e){var t=this._poster||this.playlistObject&&this.playlistObject.holdingImageURL||this.overrideHoldingImage;return i(t,e,this.ui.poster)}};return p}(),r=function(){function e(){}function t(e){this.errorState(e)}function i(e){this.currentSession=null;this.mediaSession=null;this.smp=e;this.smp.sonar=e.sonar||{action:function(){}};this.isCasting=!1;this.isAvailable=!1;this.ccId="";this.cancelRequest=!1;this.interrupted=!1;this.ccAvailableSent=!1;var t=document.createElement("script");t.type="text/javascript";t.charset="utf-8";t.async=!0;t.src="https://www.gstatic.com/cv/js/sender/v1/cast_sender.js";document.getElementsByTagName("head")[0].appendChild(t);n.call(this)}function n(){function i(e){s.currentSession=e;s.isAvailable=!0;s.dispatchToPlayer({detail:"Receivers available"});if(s.smp.playlist&&(s.smp._playing||!s.smp._paused)){var t=a.findProgramme(s.smp.playlist.items);l=t?t.identifier:"";s.dispatchToPlayer({state:"ATTEMPTING_CAST",id:s.ccId});s.requestCast(l)}}function o(e){if("available"==e){if(!s.ccAvailableSent){s.ccAvailableSent=!0;s.smp.sonar.action(e,"ccAvailable")}s.isAvailable=!0;s.dispatchToPlayer({detail:"Receivers available"})}else{s.isAvailable=!1;s.isCasting=!1;s.dispatchToPlayer({detail:"Receivers not available"})}}function r(){s.smp._playing&&s.smp.pause()}var s=this,l="";if(chrome.cast&&chrome.cast.isAvailable){var d="";if(s.smp._settings.forceCastReceiver)d=s.smp._settings.forceCastReceiver;else{d="5E81F6DB";var c=s.smp._settings;"sport"==c.product?d="F4ABD101":a.firstProgramme(c.playlistObject,!0)&&(d="438424F4")}var u=new chrome.cast.SessionRequest(d),p=new chrome.cast.ApiConfig(u,i.bind(s),o.bind(s));chrome.cast.initialize(p,e,t.bind(s));chrome.cast.addReceiverActionListener(r)}else setTimeout(n.bind(s),1e3)}i.prototype={requestCast:function(e){var i=this;if(i.currentSession)i.launchProg(e);else{var n=function(t){i.currentSession=t;i.launchProg(e)};chrome.cast.requestSession(n.bind(i),t.bind(i))}},requestStop:function(){chrome.cast.requestSession(e,e)},launchProg:function(e){var t=this;t.currentSession.addUpdateListener(t.onSessionUpdate.bind(t));t.ccId=t.currentSession.receiver.friendlyName;t.dispatchToPlayer({state:"CONNECTING",id:t.ccId});for(var i=t.smp.playlist.holdingImageURL||t.smp.playlist.posterImg,n=t.smp.playlist.links||[],a=0;n.length>a;a++)"holdingrecipe"===n[a].rel&&(i=n[a].href);t.loadMedia(e,t.smp.playlist.title,t.smp.playlist.summary,i)},loadMedia:function(e,i,n,o){var r=this;if(null==r.currentSession)r.errorState("There is no active media playback");else{var s=function(e){r.interrupted=!1;r.mediaSession=e;r.mediaSession.addUpdateListener(r.onMediaStatusUpdate.bind(r))},l=new chrome.cast.media.GenericMediaMetadata;l.title=i;var d,c="";if(o){d=new chrome.cast.Image(o.indexOf("{recipe}")===-1&&o.indexOf("$recipe")===-1&&r.smp._settings.castPlaceholderImage?r.smp._settings.castPlaceholderImage:o.replace("{recipe}","1280x720").replace("$recipe","1280x720"));d.height=720;d.width=1280;l.images=[d];var u=o.split("/");c=u[u.length-1].split(".")[0]}var p=a.findProgramme(r.smp.playlist.items),m=p?p.group:"",f=new chrome.cast.media.MediaInfo(e,"video/mp4");f.metadata=l;f.customData={base_image_url:"http://ichef.bbci.co.uk/programmeimages/"+c+"/",secondary_title:n,original_pid:m,sender:"smp",image_identifier:c};var g=new chrome.cast.media.LoadRequest(f);g.currentTime=r.smp.currentTime();g.currentTime>=r.smp.duration()-5&&(g.currentTime=0);r.currentSession.loadMedia(g,s.bind(r),t.bind(r))}},stopCast:function(){function e(){i.dispatchToPlayer({state:"STOPPED"})}var i=this;i.cancelRequest=!0;i.isCasting=!1;i.currentSession&&"stopped"!=i.currentSession.status?i.currentSession.stop(e.bind(i),t.bind(i)):e()},stopMedia:function(){function e(){i.isCasting=!1;i.dispatchToPlayer({state:"STOPPED"})}var i=this;i.mediaSession.stop(new chrome.cast.media.StopRequest,e.bind(i),t.bind(i))},interrupt:function(){var e=this;e.isCasting=!1;e.interrupted=!0;e.dispatchToPlayer({state:"INTERRUPT"});e.stopMedia()},pause:function(){var i=this;null==i.mediaSession?i.errorState("There is no active media playback"):i.mediaSession.pause(new chrome.cast.media.PauseRequest,e,t.bind(i))},seekTo:function(i){var n=this;if(null==n.mediaSession)n.errorState("There is no active media playback");else{var a=new chrome.cast.media.SeekRequest;a.currentTime=i;n.mediaSession.seek(a,e,t.bind(n))}},play:function(){var i=this;null==i.mediaSession?i.errorState("There is no active media playback"):i.mediaSession.play(new chrome.cast.media.PlayRequest,e,t.bind(i))},setVolume:function(i){var n=this;if(null==n.mediaSession)n.errorState("There is no active media playback");else if(0===i)n.currentSession.setReceiverMuted(!0,e,t.bind(n));else{n.currentSession.setReceiverVolumeLevel(i,e,t.bind(n));n.currentSession.setReceiverMuted(!1,e,t.bind(n))}},subtitlesOn:function(){var i=this;i.currentSession.sendMessage("urn:x-cast:uk.co.bbc.cast","subtitlesOn",e,t.bind(i))},subtitlesOff:function(){var i=this;i.currentSession.sendMessage("urn:x-cast:uk.co.bbc.cast","subtitlesOff",e,t.bind(i))},onMediaStatusUpdate:function(e){var t=this;if(e){if(t.mediaSession&&!t.interrupted){t.isCasting=!0;t.dispatchToPlayer({state:t.mediaSession.playerState,currentTime:t.mediaSession.currentTime,id:t.ccId,subtitlesEnabled:t.mediaSession.customData.subtitlesEnabled,floatVolume:t.currentSession.receiver.volume.level,castDuration:t.mediaSession.media.duration})}}else if("IDLE"==t.mediaSession.playerState&&!t.interrupted){t.isCasting=!1;var i="IDLE";"FINISHED"==t.mediaSession.idleReason&&(i="FINISHED");t.dispatchToPlayer({state:i})}},onSessionUpdate:function(e){var t=this;if(e){if(t.currentSession&&!t.cancelRequest){var i=t.currentSession.receiver.volume.level;t.currentSession.receiver.volume.muted&&(i=0);t.dispatchToPlayer(t.mediaSession?{state:t.mediaSession.playerState,currentTime:t.mediaSession.getEstimatedTime(),id:t.ccId,subtitlesEnabled:t.mediaSession.customData.subtitlesEnabled,floatVolume:i}:{floatVolume:i})}}else{t.stopCast();t.currentSession=null}},errorState:function(e){var t=this;t.smp.sonar.action("error","ccError",{detail:e.description||e});t.dispatchToPlayer({state:"ERROR",detail:e})},dispatchToPlayer:function(e){var t=this;e.available=t.isAvailable;e.casting=t.isCasting;e.activeSession=t.currentSession?!0:!1;t.smp.call("ccInfo",e)}};return i}(),s={show:function(e){s._embedBox&&s.close(!0);var t=e._settings,i=t.locale(),n=encodeURIComponent(t.product),a=encodeURIComponent(e.playlist.title),o=t.externalEmbedUrl||"";if(o){for(var r=e.playlist.items,l=0;r.length>l;l++){var d=r[l].kind;if("programme"==d||"radioProgramme"==d){o=o.replace("{vpid}",r[l].identifier);break}}o=o.replace("{lang}",i)}else{if(e.playlist.url)var c=e.playlist.url;else t.playlistObject&&(c=t.playlistObject.legacyPlaylist);if(c){o="https://emp.bbc.co.uk/emp/embed/smpEmbed.html?playlist="+encodeURIComponent(c)+"&title="+a+"&product="+n;"en"!=i&&(o+="&lang="+i)}}if(o){var u=!t.ui.disableReithFonts;window.embeddedMedia.opened();var p="width: 100%;"+"height: 100%;"+"margin: 0;"+"position: fixed;"+"z-index: 1000;"+"top: 0;"+"left: 0;"+"background-color: #000;"+"opacity: 0.5;";s._background=document.createElement("div");s._background.id="embedBackground";s._background.style.cssText=p;s._embedBox=document.createElement("div");s._embedBox.id="embedBox";s._embedBox.setAttribute("role","alertdialog");s._embedBox.setAttribute("aria-labelledby","embedMediaTitle");s._embedBox.setAttribute("aria-describedby","embedMediaDescription");var m="position: fixed;"+"width: 400px;"+"max-width: 90%;"+"height: 160px;"+"bottom: 0;"+"left: 0;"+"top: 0;"+"right: 0;"+"margin: auto;"+"color: white;"+"font-size: 22px;"+"z-index: 1001;"+"background-color: #262626;";document.documentElement.className.indexOf("b-reith-sans-font")>=0&&u?s._embedBox.className="font-family-sans":m+="font-family: helvetica, Arial, sans-serif;";s._embedBox.style.cssText=m;var f=window.embeddedMedia.language,g=f.t("embedTitle",i),h=f.t("embedDescription",i),y=f.t("embedTerms",i),b=f.t("embedClose",i),v=document.createElement("span");v.id="embedMediaTitle";v.style.cssText="position: absolute;"+"left: 0;"+"margin-left: 10%;"+"margin-top: 6%";v.textContent=g;s._embedBox.appendChild(v);var w=document.createElement("span");w.id="embedMediaDescription";w.style.cssText="display: none";w.setAttribute("aria-hidden","true");w.textContent=h;s._embedBox.appendChild(w);var P="position: absolute;"+"width: 80%;"+"height: 30px;"+"top: 50%;"+"left: 0;"+"margin-top: -15px;"+"margin-left: 10%;"+"font-size: 14px;"+"color: #848484;",k='<iframe width="400" height="500" frameborder="0" src="'+o+'"></iframe>';t.externalEmbedCode&&(k=(t.externalEmbedCode+"").replace("{url}",o));var C=document.createElement("input");C.id="embedText";C.type="text";C.value=k;C.style.cssText=P;C.addEventListener("click",function(){C.select()});setTimeout(function(){C.focus()},100);s._embedBox.appendChild(C);var x="position: absolute;"+"bottom: 0;"+"left: 0;"+"margin-bottom: 6%;"+"margin-left: 10%;"+"font-size: 0.6em;"+"color: #ffffff;"+"text-decoration: none;",_=document.createElement("a");_.target="_blank";_.href="https://www.bbc.co.uk/usingthebbc/terms-of-use/";_.textContent=y;_.style.cssText=x;s._embedBox.appendChild(_);var E="position: absolute;"+"right: 0px;"+"font-size: 0.8em;"+"top: 0px;"+"margin-top: 10px;"+"margin-right: 10px;"+"color: #ffffff;"+"text-decoration: none;"+"cursor: pointer;",T=document.createElement("a");T.setAttribute("aria-label",b);T.href="#";T.textContent="x";T.style.cssText=E;s._embedBox.appendChild(T);T.addEventListener("click",function(e){e.preventDefault();s.close()});s._tabList=[C,_,T];s._currentTab=0;var S=function(e){var t=e.keyCode||e.which;switch(t){case 27:e.preventDefault();s.close();break;case 9:e.preventDefault();var i=s._tabList.length-1;s._currentTab=e.shiftKey?0===s._currentTab?i:s._currentTab-1:s._currentTab===i?0:s._currentTab+1;setTimeout(function(){s._tabList[s._currentTab].focus()},200)}};for(l=0;s._tabList.length>l;l++)s._tabList[l].addEventListener("keydown",S);document.body.appendChild(s._background);document.body.appendChild(s._embedBox)}},close:function(e){var t=this;e||window.embeddedMedia.closed();if(t._background){t._background.parentNode.removeChild(t._background);t._background=void 0}if(t._embedBox){t._embedBox.parentNode.removeChild(t._embedBox);t._embedBox=void 0}}},l=function(){function e(){this.includePoster=!0;this._volume=1;return this}e.prototype={name:function(){return this._name},uiDefaults:function(e){var t=this._settings,i=t.ui;i.guidance||(i.guidance={});i.guidance.useFlashGuidance=i.guidance.useFlashGuidance||!1;t.guidanceCleared||i.guidance.pinRequired!==!1&&(i.guidance.pinRequired=!0);if(e.isMobileOrTablet){i.controls||(i.controls={volumeSlider:!1});i.controls.popout=!1;i.controls.volumeSlider||(i.controls.volumeSlider=!1);t.volume=1}if(1!=window.devicePixelRatio&&!e.connection.mobile&&!t.lowBandwidth){i.poster||(i.poster={});i.poster.densityMultiplier||(i.poster.densityMultiplier=window.devicePixelRatio)}e.supportsSvg&&i.useHighResIcons!==!1&&(i.useHighResIcons=!0);var n="";n=window.getComputedStyle&&this._settings.container?window.getComputedStyle(this._settings.container).direction:this._settings.container.currentStyle.direction;i.cta&&null===i.cta.direction&&(i.cta.direction="rtl"==n?"rtl":"ltr");try{var a=/[; ]ck[pn]s_smpSettings=([^\s;]*)/gim;a.test(" "+document.cookie);if(RegExp.$1){var o=JSON.parse(decodeURIComponent(RegExp.$1));i.allowAudioControlsToHide|=o.allowAudioControlsToHide;if(o.controls){i.controls||(i.controls={});i.controls.timeout=o.controls.timeout;i.controls.sizeAdjust=o.controls.sizeAdjust;i.controls.spaceControlsPlayback|=o.controls.spaceControlsPlayback;i.controls.experimentalShortcuts|=o.controls.experimentalShortcuts;i.controls.activeStartsAt=o.controls.activeStartsAt;i.controls.chromecastMode=o.controls.chromecastMode}if(o.subtitles){i.subtitles||(i.subtitles={});i.subtitles.contrast=o.subtitles.contrast;i.subtitles.sizeAdjustment=o.subtitles.sizeAdjustment;i.subtitles.supportLiveSubtitles|=o.subtitles.supportLiveSubtitles}o.quality&&(t.quality=o.quality)}}catch(r){}},destroy:function(){this._container&&(this._container.innerHTML="")
},call:function(){},play:function(e){this.call("play",e)},stop:function(){this.call("stop")},suspend:function(){this.call("suspend")},pause:function(){this.call("pause")},next:function(e){this.call("next",e)},previous:function(e){this.call("previous",e)},pauseAt:function(e){if(e){e=e instanceof Array?e:[e];this.call("pauseAt",e)}},muted:function(e){if("undefined"!=typeof e){this._muted=e;this.call("muted",e)}return this._muted},volume:function(e){if("number"==typeof e){this._volume=e;this.call("volume",e)}return this._volume},duration:function(){return this._duration},ended:function(){return this._ended},seeking:function(){return this._seeking},paused:function(){return this._paused},kind:function(){return this._kind},mediaItem:function(){return this._mediaItem},loadedPlaylist:function(){return this.playlist},currentTime:function(e){"number"==typeof e&&this.call("currentTime",e);return this._currentTime},showSubtitles:function(e){this.call("showSubtitles",e)},setData:function(e){if(e)if(e instanceof Array)for(var t=0;e.length>t;t++)this.call("setData",e[t]);else this.call("setData",e)},updateQuality:function(e){this.call("updateQuality",e)},onAdsProcessed:function(e){this.call("onAdsProcessed",e)},webcastData:function(e){for(var t in e)if(e.hasOwnProperty(t)){var i=e[t];"[object Date]"===Object.prototype.toString.call(i)&&(e[t]=i.getTime()/1e3)}},loadPluginWithCheck:function(e,t,i){for(var n=this._settings.blacklistedPlugins,a=0;n.length>a;a++)if((e+"").indexOf(n[a])>-1)return;if(0===(e+"").indexOf("name:")){var o=this._settings.namedPlugins,r=!1,s=e.split("name:");if(2==s.length)for(var l in o)if(s[1]===l){"object"==typeof t?t.url=o[l]:t=o[l];r=!0;break}if(!r)return}this.call(i||"loadPlugin",t)},before:function(){var e=this,t=e._settings;e.ready=!0;e.volume(t.volume);e.muted(t.muted);e._lastSignificant=t.startTime},started:function(e){var t=this,i=t._settings;e.supportChromecast&&i.allowCasting&&(t.castProvider=new r(t));window.addEventListener?window.addEventListener("beforeunload",function(){t.call("stop",{destroy:!0})}):window.attachEvent&&window.attachEvent("onbeforeunload",function(){t.call("stop",{destroy:!0})});var n=window.embeddedMedia.parentalGuidance;n.updateCallbacks.push(function(e){i.guidance=e;e.noPin=i.guidanceCleared;t.call("updateGuidance",e)});n.closedCallbacks.push(function(e){t.call("guidanceClosed",[e]);if(t.resizePlayer){t.resizePlayer();setTimeout(function(){t.resizePlayer&&t.resizePlayer()},500)}"html"==t.type&&t._gCalled&&e&&!t._lockClicked&&t.play(!0);t._gCalled=!1})},processEvent:function(e,t,i){var a=e.type;t=t||{};var o=this;for(var r in t)if("type"!=r){e[r]=t[r];"currentDuration"==r&&(e.duration=t[r])}switch(a){case"ccRequest":o.castProvider.requestCast(i.mediatorIdentifer);break;case"ccCancel":o.castProvider.requestStop();break;case"ccPlay":o.castProvider.play();break;case"ccPause":o.castProvider.pause();break;case"ccStopMedia":o.castProvider.stopMedia();break;case"ccSubsOn":o.castProvider.subtitlesOn();break;case"ccSubsOff":o.castProvider.subtitlesOff();break;case"ccSeek":o.castProvider.seekTo(i.seekTime);break;case"ccVolume":o.castProvider.setVolume(i.floatVolume);break;case"ccInterrupt":o.castProvider.interrupt();break;case"timeupdate":o._currentTime=t.currentTime;o._duration=t.duration;if(Math.abs(o._currentTime-o._lastSignificant)>o._settings.significantTime){var l={type:"significanttimeupdate"};for(r in t)"type"!=r&&(l[r]=t[r]);o._lastSignificant=o._currentTime;o.trigger(l)}break;case"seeked":o._seeking=!1;"number"==typeof t.currentTime&&(o._currentTime=t.currentTime);break;case"seeking":o._seeking=!0;"number"==typeof t.currentTime&&(o._currentTime=t.currentTime);break;case"playlistEnded":case"ended":o._playing=!1;o._ended=!0;break;case"pause":o._paused=!0;break;case"playing":o._playing=!0;o._paused=!1;o._ended=!1;o._kind=e.kind;break;case"playlistLoaded":o._seeking=!1;o._paused=!0;o._ended=!1;o.playlist=t.playlist;break;case"mediaItemChanged":o._currentTime=0;o._lastSignificant=0;o._mediaItem=e.mediaItem;break;case"linkRequest":("managePIN"===t.type||"PGinfo"===t.type)&&window.open("//www.bbc.co.uk/iplayer/guidance","pg");break;case"embed":if(o.playlist){o._restoreFocus=!0;s.show(o)}break;case"setPIN":window.embeddedMedia.parentalGuidance.setPIN(t.PIN);break;case"setGuidanceSkipped":window.embeddedMedia.parentalGuidance.setAgeConfirmation(t.skipped);break;case"guidanceLocked":window.embeddedMedia.parentalGuidance.setLocked(t.locked,!0);break;case"guidanceClosed":window.embeddedMedia.parentalGuidance.close(void 0,!0);break;case"setUnder16Permission":window.embeddedMedia.parentalGuidance.setUnder16Permission(t.hasPermission);break;case"distributeConfig":if(!n.isObjectEmpty(e.configToDistribute)){o._settings.set(e.configToDistribute);window.embeddedMedia.distributeConfigToPlayers(e.configToDistribute,"",o.uniqueId)}break;case"distributeUiConfig":if(!n.isObjectEmpty(e.uiConfigToDistribute)){var d={ui:e.uiConfigToDistribute};o._settings.set(d);window.embeddedMedia.distributeConfigToPlayers(d,"ui",o.uniqueId)}}},setPoster:function(e,t){this.ready&&e&&this.call("setPoster",{url:e,effect:t})},queuePlaylist:function(){},setPreviousPlaylist:function(){},updateMediaset:function(){},loadPlaylist:function(){},captureIntent:function(){},updateUiConfig:function(){},updateConfig:function(){},distributeConfig:function(){}};return e}(),d=function(){function e(){this._name="smp-html-background";this.type="html";this.includePoster=!1;this.backgroundPlayer=null;return this}var t=e.prototype;t.compatibility=function(e){return"background"==e.product&&n.hasVideo&&!e.disableHtml?!0:!1};t.updateMediaset=function(){this.backgroundPlayer&&this.backgroundPlayer.determinedConnectionCallback()};t.embed=function(e,t){var i=this;a.mediationUrls(e,e,!0);i._settings=e;i._container=e.container;i._container.innerHTML="";var n=e.html5Debug?"//emp.bbci.co.uk/emp/htmlbackground/1.0.3/backgroundplayer.js":"//emp.bbci.co.uk/emp/htmlbackground/1.0.3/backgroundplayer.min.js";if(!window.require)throw"No require available, smp-html-background requires require.";require([n],function(n){i.backgroundPlayer=new n(i._container,e,i);t(i,{markers:!1,queuedPlaylist:!1,inPage:!0,chromecast:!1,overlay:!1})})};t.loadPlaylist=function(){this.backgroundPlayer&&this.backgroundPlayer.loadPlaylist(this._settings)};t.play=function(){this.backgroundPlayer&&this.backgroundPlayer.play()};t.pause=function(){this.backgroundPlayer&&this.backgroundPlayer.pause()};t.muted=function(e){return this.backgroundPlayer?this.backgroundPlayer.muted(e):void 0};t.volume=function(e){return this.backgroundPlayer?this.backgroundPlayer.volume(e):void 0};return e}(),c=function(){var e=function(e){var t=this,i=document.getElementById(e);t._receiveKey=e+Math.random();i&&i.contentWindow&&(t._postElement=i.contentWindow);t._url=i.src;t._listeners={};t.post({initXD:{receiveKey:t._receiveKey}});t.receive(function(e){if(e.data){var i=e.data.type,n=e.data.data,a=t._listeners[i];if(a)for(var o=0;a.length>o;o++){var r=a[o];r.call(t,n)}}})};e.prototype={_receiveKey:"",_postElement:null,_listeners:{},post:function(e){var t=this;e&&t._postElement&&t._postElement.postMessage&&t._postElement.postMessage(JSON.stringify(e),"*");return t},receive:function(e){var t=this,i=function(i){var n=i.origin+"";if((0===t._url.indexOf(n)||0===t._url.indexOf(n.replace("https://","http://")))&&i.data&&i.data.indexOf&&0===i.data.indexOf("{")){var a={};for(var o in i)a[o]="data"==o?JSON.parse(i[o]):i[o];if(!a.data.receiveKey||a.data.receiveKey!==t._receiveKey)return!1;e(a)}};window.addEventListener?window.addEventListener("message",i,!1):window.attachEvent("onmessage",i);return t},on:function(e,t){var i=this,n=function(){setTimeout(function(e){t.apply(i,e)},0,arguments)};this._listeners[e]||(this._listeners[e]=[]);this._listeners[e].push(n);return i},fire:function(e,t){this.post({receiveKey:this._receiveKey,type:e,data:t})}};return e}(),u=function(){function e(e,t,n){var a="en";e&&(a=e.locale());t=i[t]||t;if(window.embeddedMedia.language){var o=window.embeddedMedia.language.t(t,a);if(o!=t)return o}return n||"Unknown Error"}function t(t,i){this.type="error";this.code=t;this.severity="critical";this.description=e(i,t+"");return this}var i={6003:"errorUnsupported",6005:"6004",6010:"errorFlashIsNeeded",6012:"errorUnsupported"};return t}(),p=function(){function t(e){return!!e&&("radioProgramme"===e.kind||"audio"===e.kind)}function i(e,t){if(!e)return"00:00";if(isNaN(e)||0>e||e>36e4)return"";var i=Math.floor(e/60),n=Math.floor(i/60);i=Math.floor(i%60);var a=Math.floor(e%60);10>i&&(i="0"+i);10>a&&(a="0"+a);var o=[i,a];(n>0||t)&&o.unshift(n);t&&o.pop();return o.join(":")}function o(e,t,i){var n=e.ui.cta||{},a="cta_play.png";n.iplayer?a=t?i?"svg/white/play-iplayer-audio.svg":"svg/white/play-iplayer.svg":i?"cta_play_audio_iplayer.png":"cta_play_iplayer.png":t?a=i?"svg/white/audio.svg":"svg/white/play.svg":i&&(a="cta_play_audio.png");return a}function r(e,t,i,n,a){var o={ctaSize:i?"60px":"80px",ctaBackgroundSize:"52px 52px",ctaBackgroundPosition:"50% "+(t?"38%":"50%")};if(e){o.ctaBackgroundSize="60px 60px";t&&(o.ctaBackgroundPosition="10px 5px");if(i)if(n)if(a){t&&(o.ctaBackgroundPosition="6px 0px");o.ctaBackgroundSize="49px 49px"}else{t&&(o.ctaBackgroundPosition="7px 1px");o.ctaBackgroundSize="45px 45px"}else{t&&(o.ctaBackgroundPosition="10px 4px");o.ctaBackgroundSize="40px 40px"}else if(n){t&&(o.ctaBackgroundPosition="9px 4px");o.ctaBackgroundSize="62px 62px"}}else if(i)if(a){o.ctaBackgroundSize=n?"23px 23px":"27px 27px";t&&(o.ctaBackgroundPosition="50% 31%")}else if(n){o.ctaBackgroundSize="22px 22px";t&&(o.ctaBackgroundPosition="50% 34%")}else o.ctaBackgroundSize="35px 35px";else n?o.ctaBackgroundSize="28px 28px":a&&(o.ctaBackgroundSize="36px 36px");return o}function s(e,t,i,n){var a=document.createElement("div"),o=window.embeddedMedia.players.length,r=!n,s="",l=document.getElementsByClassName("p_cta")[0];l&&(s=window.getComputedStyle?window.getComputedStyle(l).direction:l.currentStyle.direction);var c="rtl"==s,u=c?"margin-right: 10px; ":"margin-right: -2px; ",p=c?"margin-right:10px;":"margin-left:10px;",m=c?"margin-right:80px;":"margin-left:80px;",f=c?"padding-left:30px;":"padding-right:30px;";a.id="p_guidance"+o;var g=document.createElement("div");g.id="p_guidanceBox"+o;g.className="p_guidanceBox";var h=document.createElement("span"),v=document.createElement("span"),w=i?"background-color:white; color:black;":"background-color:red;",P="display:inline-block;margin:auto;border-radius:50%;height:15px;width:15px;"+w+"position: relative; top:-2px;";if(y){h.id="p_guidanceG"+o;v.id="p_guidanceW"+o;h.style.backgroundImage='url("'+b+'svg/guidance.svg")';v.style.backgroundImage='url("'+b+'svg/warningGuidance.svg")';v.style.display=i?"inline-block":"none";h.style.display=i?"none":"inline-block";h.setAttribute("aria-labelledby","p_guidanceText"+o);v.setAttribute("aria-labelledby","p_guidanceText"+o);P="width:15px;height:15px;display:inline-block;position: relative; top: 2px;"+u}else{h.id="p_guidanceG"+o;var k=document.createElement("span");k.id="p_guidanceGText"+o;h.appendChild(k);k.textContent="G";k.setAttribute("aria-labelledby","p_guidanceText"+o)}g.appendChild(h);g.appendChild(v);var C=document.createElement("span");C.id="p_guidanceText"+o;C.textContent=t;g.appendChild(C);a.appendChild(g);var x="position:absolute;height:80px;bottom:-0.5px;background-color: rgba(0, 0, 0, 0.7);"+m+"margin-top: -40px;display:table;"+f+"line-height:1";document.documentElement.className.indexOf("b-reith-sans-font")>=0&&r?a.className+="font-family-sans":x+="; font-family:helvetica, Arial, sans-serif";var _=e.sheet;d(_,"#p_guidance"+o,x,0);d(_,".minimode #p_guidance"+o,"left: 61px;height:60px;",1);d(_,"#p_guidanceBox"+o,"color:#ffffff;font-size:12px;font-weight:bold;padding-left:8px;display:table-cell;vertical-align:middle;",2);d(_,"#p_guidanceG"+o,P,3);d(_,"#p_guidanceW"+o,P,3);d(_,"#p_guidanceGText"+o,"position:relative;left:3px;top:1px;line-height:normal;",4);d(_,"#p_guidanceText"+o,p,5);return{text:C,div:a,id:o}}function d(e,t,i,n){if(e.insertRule){n=void 0===n?e.cssRules.length:n;e.insertRule(t+"{"+i+"}",n)}else e.addRule&&e.addRule(t,i,n)}function c(e){function t(){clearTimeout(a);r=!0;n.hasClass(e,"nonPointerFocus")&&n.className(e,"","nonPointerFocus");a=setTimeout(i,250)}function i(){r=!1}var a,o,r=!1,s=!1;n.hasClass(e,"nonPointerFocus")||n.className(e,"nonPointerFocus");if(window.PointerEvent)document.addEventListener("pointerdown",t,!0);else{document.addEventListener("touchstart",t,!0);document.addEventListener("mousedown",t,!0)}window.addEventListener("focus",function(){clearTimeout(o);s=!0;o=setTimeout(function(){s=!1},250)});document.addEventListener("focusin",function(){r||s||n.hasClass(e,"nonPointerFocus")||n.className(e,"nonPointerFocus")},!0)}function u(e){this.immediate=!0;this._name=e;return this}function p(e,t){var i={gMessage:t,isWarning:!1};if(e.playlistObject){if(e.playlistObject.warning){i.gMessage=e.playlistObject.warning;i.isWarning=!0}if(e.playlistObject.guidance){i.gMessage=e.playlistObject.guidance;i.isWarning=!1}}return i}function m(e){if(e&&e.items)for(var t=0;e.items.length>t;t++)if(e.items[t].live===!0)return!0;return!1}function f(e){e.audiouiLiveIndicator.style.display=e._settings.playlistObject&&m(e._settings.playlistObject)?"block":"none";var t=h(e._settings);if(t&&e._settings.playlistObject&&!m(e._settings.playlistObject)&&e._settings.ui.cta&&"duration"==e._settings.ui.cta.mode){e.audioDurationHolder.innerHTML=t;e.audioDurationHolder.style.opacity=1}else e.audioDurationHolder.style.opacity=0}function g(e){var t=e._settings.locale(),i=window.embeddedMedia.language,a=e.sheet;d(a,"#p_audioui_playpause_circle","stroke: #fff;stroke-width: 3;fill: none;");d(a,"#p_audioui_playpause_highlightCircle","opacity: 0;-webkit-transition: 100ms opacity linear;transition: 100ms opacity linear;fill:"+e._settings.ui.colour+";");d(a,"#p_audioui_playpause.hovering #p_audioui_playpause_highlightCircle,#p_audioui_playpause.pressed #p_audioui_playpause_highlightCircle,.nonPointerFocus #p_audioui_playpause.focused #p_audioui_playpause_highlightCircle","opacity: 1;");d(a,"#p_audioui_playpause_playIcon","-webkit-transform-origin: 34px 34px;transform-origin: 34px 34px;-webkit-transition: 100ms -webkit-transform ease-out;transition: 100ms -webkit-transform ease-out;transition: 100ms transform ease-out;transition: 100ms transform ease-out, 100ms -webkit-transform ease-out;-webkit-transform: scale(1);transform: scale(1);");d(a,"#p_audioui_playpause.pressed #p_audioui_playpause_playIcon","-webkit-transform: scale(1.4);transform: scale(1.4);");var o=document.createElement("button");o.id="p_audioui_playpause";o.setAttribute("aria-label",i.t("aaampPlay",t));var r=n.createSVGElement("svg",{width:68,height:68,viewbox:"0 0 68 68"}),s=n.createSVGElement("circle",{id:"p_audioui_playpause_circle",cx:34,cy:34,r:32}),l=n.createSVGElement("circle",{id:"p_audioui_playpause_highlightCircle",cx:34,cy:34,r:34}),c=n.createSVGElement("polygon",{id:"p_audioui_playpause_playIcon",points:"27 46 46 34 27 22"});r.appendChild(s);r.appendChild(l);r.appendChild(c);o.appendChild(r);n.hoverMoveAction(o,function(){n.className(o,"hovering")});n.hoverLeaveAction(o,function(){n.className(o,"","hovering")});n.downAction(o,function(){n.className(o,"pressed")});n.upAction(document,function(){n.className(o,"","pressed")},!0);n.multiAddEventListener(o,"focus focusin",n.throttleFn(function(){n.className(o,"focused")}));n.multiAddEventListener(o,"blur focusout",n.throttleFn(function(){n.className(o,"","focused")}));o.addEventListener("keydown",function(e){(13==e.keyCode||32==e.keyCode)&&n.className(o,"pressed")});o.addEventListener("keyup",function(){n.className(o,"","pressed")});e._settings.includeAppClickHandler&&n.multiAddEventListener(o,"mouseup touchend click",n.throttleFn(e.getUserPlay()));return o}function h(e){var t=null;if(e.overrideCtaDuration)t=e.overrideCtaDuration;else{var n=a.firstProgramme(e.playlistObject);n&&n.duration&&(t=i(n.duration,!1))}return t}var y,b="//emp.bbci.co.uk/emp/assets/2.0.23/",v=u.prototype=new l;v.embed=function(t,i){var n=this,a=document.createElement("style"),o=document.getElementsByTagName("head")[0];o.appendChild(a);n.sheet=a.sheet?a.sheet:a.styleSheet;n._settings=t;n._container=t.container;n._version=window.embeddedMedia.version;c(n._container);n.uiDefaults(e.get());n.ctaNeedsCreating=n.createCta();n.extraEmbed&&n.extraEmbed();i(n,n.capability);n.processPlaylist(null,!0);n.trigger({type:"initialised"});n.processPlaylist()};v.show=function(e){this.wrapper.children().show();e&&this.play()};v.hide=function(){this.wrapper.children().hide()};v.setLocation=function(t){var i=this._settings;if(i.insideIframe){var n={type:"navigateTo"};n.href=t;this.trigger(n)}else{try{var a=""===top.location.href&&!1}catch(o){a=!0}e.requiresWindowOpenSMPAirLaunch||a?window.open(t):top.location=t}};v.hasPlaylist=function(){var e=this._settings;return e.playlist||e.playlistObject};v.updateUiConfig=function(){var e=this,t=e._createdUI||{},i=e._settings.ui,n=!1,a=t.miniMode&&t.miniMode.enabled,o=i.miniMode&&i.miniMode.enabled;if(a!=o)n=!0;else if(t.colour!=i.colour)n=!0;else{var r=i[e.classStr]||i.CTAcss;e._ctaClassName!=r&&(n=!0)}if(n){this.wrapper&&this.wrapper.empty();this.createCta()}};v.processPlaylist=function(e,t){var i=this,a=i._settings,o=e||a.playlistObject;if(o){i.playlist=n.clone(o);var r=i.playlist.items;if(r)for(var s=r.length-1;s>=0;s--){var l=r[s];i.filterPlaylist&&("ident"==l.kind||"advert"==l.kind||"360"==l.kind)&&r.splice(s,1);if(l.versionID)l.vpid=l.versionID;else if(l.serviceID){l.vpid=l.serviceID;l.live=!0;i.playlist.simulcast!==!1&&(i.playlist.simulcast=!0)}l.identifier=l.vpid}if(!t){var d={type:"playlistLoaded"};d.playlist=i.playlist;i.trigger(d)}}else i.playlist=null};v.next=function(){var e=this,t=e.playlist;if(t)if(t.items&&t.items.length>1)t.items.shift();else if(t.queuedPlaylist){e.processPlaylist(t.queuedPlaylist);var i=e._settings;i.playlist="";i.playlistObject=t.queuedPlaylist;i.webcastData={};i.overrideHoldingImage=null;i.statsObject.parentPID=void 0;i.statsObject.parentPIDType=void 0;i.statsObject.episodePID=void 0;i.statsObject.clipPID=void 0;i.statsObject.brandPID=void 0;i.statsObject.seriesPID=void 0;i.statsObject.playlistLabels=void 0;i.statsObject.playlistName=void 0;t.queuedOptions&&n.merge(i,t.queuedOptions);e._statsObject=n.clone(i.statsObject)}};v.loadPlaylist=function(){var e=this,t=e._settings,i=window.embeddedMedia.parentalGuidance;i.setUnder16Permission(!1);if(e.ctaNeedsCreating)setTimeout(function(){e.ctaNeedsCreating=e.createCta()},100);else if("audio"==t.ui.skin)f(e);else if(e.incGuidance&&(!t.ui.guidance||t.ui.guidance.enabled!==!1)){var n=t.playlistObject&&(t.playlistObject.guidance||t.playlistObject.warning)||t.forceGuidance||t[e._guidance];if(n){var a=p(t,n);if(e.guidanceWrapper){if(y){var o=document.getElementById("p_guidanceG"+e.guidanceWrapper.id),r=document.getElementById("p_guidanceW"+e.guidanceWrapper.id);if(a.isWarning){r.style.display="inline-block";o.style.display="none"}else{r.style.display="none";o.style.display="inline-block"}}else{var l=document.getElementById("p_guidanceGText"+e.guidanceWrapper.id),d=document.getElementById("p_guidanceG"+e.guidanceWrapper.id);if(a.isWarning){l.style.color="black";d.style.backgroundColor="white"}else{l.style.color="white";d.style.backgroundColor="red"}}e.guidanceWrapper.div.style.display="";e.guidanceWrapper.text.textContent=a.gMessage}else{e.guidanceWrapper=s(e,a.gMessage,a.isWarning,t.ui.disableReithFonts);e.wrapper.appendChild(e.guidanceWrapper.div)}}else if(e.guidanceWrapper){e.guidanceWrapper.div.style.display="none";e.guidanceWrapper.text.textContent=""}}e.processPlaylist();t.autoplay&&e.play();e.resetContainer&&e.resetContainer();e.setPoster()};v.createCta=function(){if(this.hasPlaylist()){"audio"==this._settings.ui.skin?this.createAudioCta():this.createClassicCta();return!1}return!0};v.createAudioCta=function(){var e=this,t=g(e);d(e.sheet,"#p_audioui_playpause","position: absolute;left: 50%;margin: 0 0 0 -34px;bottom: 16px;width: 68px;height: 68px;fill: #FFFFFF;padding: 0;border: 0;outline: 0;background: transparent;cursor: pointer;");var i=e.audioDurationHolder=document.createElement("div");i.id="p_audioui_durationHolder";d(e.sheet,"#p_audioui_durationHolder","position: absolute; bottom: 42px; left: 50%; margin-left: 50px; width: 150px; color: #FFF; font-size: 15px; line-height: 15px; opacity: 0;");var a=e.wrapper=document.createElement("div");a.className="p_audioui_wrapper";d(e.sheet,".p_audioui_wrapper","width:100%;height:100%;position:relative;opacity:0;transition: opacity 1000ms linear;");(document.documentElement.className.indexOf("b-reith-sans-font")==-1||e._settings.ui.disableReithFonts)&&d(e.sheet,".p_audioui_wrapper","font-family: helvetica, Arial, sans-serif;");var o=document.createElement("div");o.id="p_audioui_progressBar";d(e.sheet,"#p_audioui_progressBar","position: absolute; bottom: 119px; height: 2px; left: 16px; right: 16px; background-color: rgba(255,255,255, 0.3);");e.sheet.insertRule&&e.sheet.insertRule("@media (max-width: 399px) { #p_audioui_progressBar { left: 10px; right: 10px; } }",e.sheet.cssRules.length);var r=e.audiouiLiveIndicator=document.createElement("div");r.id="p_audioui_liveIndicator";d(e.sheet,"#p_audioui_liveIndicator","position: absolute; right: 16px; bottom: 92px;");f(e);var s=document.createElement("span");s.className="p_audioui_liveText";s.innerHTML="LIVE";d(e.sheet,".p_audioui_liveText","display: block; float: right; margin-left: 3px; height: 12px; line-height: 12px; font-size: 12px; color: #FFF;");var l=n.createSVGElement("svg",{width:12,height:12});d(e.sheet,"#p_audioui_liveIndicator svg","display: block; float: right; fill: #fff;");var c=n.createSVGElement("path",{d:"M5.96681502,10.3410568 C8.38342771,10.3410568 10.3424794,8.38388329 10.3424794,5.96958745 C10.3424794,3.5552916 8.38342771,1.59811812 5.96681502,1.59811812 C3.55020233,1.59811812 1.59115067,3.5552916 1.59115067,5.96958745 C1.59115067,8.38388329 3.55020233,10.3410568 5.96681502,10.3410568 Z M5.96681502,11.930682 C2.67143408,11.930682 0,9.26180906 0,5.96958745 C0,2.67736584 2.67143408,0.00849290887 5.96681502,0.00849290887 C9.26219596,0.00849290887 11.93363,2.67736584 11.93363,5.96958745 C11.93363,9.26180906 9.26219596,11.930682 5.96681502,11.930682 Z"}),u=n.createSVGElement("circle",{"class":"p_audioui_liveIconCentre",cx:6,cy:6,r:3});if(e.sheet.insertRule){e.sheet.insertRule(".p_audioui_liveIconCentre { animation: 1.7s ease infinite p_audioui_pulsate; }",e.sheet.cssRules.length);e.sheet.insertRule("@keyframes p_audioui_pulsate { from { opacity: 1; } 50% { opacity: 0.3; } to { opacity: 1; } }",e.sheet.cssRules.length);e.sheet.insertRule("@media (max-width: 399px) { #p_audioui_liveIndicator { right: 10px; } }",e.sheet.cssRules.length)}l.appendChild(u);l.appendChild(c);r.appendChild(s);r.appendChild(l);a.appendChild(t);a.appendChild(i);a.appendChild(o);a.appendChild(r);e._container.appendChild(a);a.style.opacity=1};v.createClassicCta=function(){var e=this,i=e._settings,l=i.ui.miniMode&&i.ui.miniMode.enabled;e._createdUI=n.clone(i.ui);var d=!1,c=h(i),u=a.firstProgramme(i.playlistObject);u&&(d=t(u));var m=(i.ui.colour+"").replace("0x","#").substring(0,7);e.wrapper||(e.wrapper=n.getWrapper(i,999));e.wrapper.className=l?"minimode":"";var f=window.embeddedMedia.players.length,g=document.createElement("button");g.setAttribute("id","cta"+f);g.className="p_cta";g.title=window.embeddedMedia.language.t("aaampPlay",i.locale());var v=e._ctaClassName=i.ui[e.classStr]||i.ui.CTAcss;e.incGuidance=!0;var w=null;if(c&&i.ui.cta&&"duration"===i.ui.cta.mode){w=document.createElement("span");w.className="p_ctaDuration";w.textContent=c;g.appendChild(w)}if(v){e.incGuidance=!1;g.className=v}else{y=i.ui.useHighResIcons;var P=i.ui.cta||{};P.ignoreAudio&&(d=!1);var k=o(i,y,d),C=i.ui.cta&&i.ui.cta.iplayer,x=r(y,w,l,d,C),_='url("'+b+k+'")';void 0!==P.custom&&(_='url("'+P.custom+'")');g.setAttribute("style","background-image : "+_+";background-position : "+x.ctaBackgroundPosition+";background-repeat:no-repeat;background-color :#000000;background-size : "+x.ctaBackgroundSize+";opacity : 0.8;margin : 0;padding: 0; border: 0;width  : "+x.ctaSize+";height : "+x.ctaSize+";display :  block;position : absolute; bottom : -0.5px");if(w){var E=l?"6px":"8px",T=l?"60px":"80px";w.setAttribute("style","font-size: 0.75rem;text-align : center;position: absolute;bottom: "+E+";left: 0px;width: "+T+";color: #fff;background-colour:transparent")}var S=function(){g.style.backgroundColor=m;g.style.opacity=1},I=function(){g.style.backgroundColor="#000000";g.style.opacity=.9};e._container.addEventListener("mousedown",S);e._container.addEventListener("mouseover",S);e._container.addEventListener("touchstart",S);e._container.addEventListener("focusin",S);e._container.addEventListener("mouseup",I);e._container.addEventListener("mouseout",I);e._container.addEventListener("touchend",I);e._container.addEventListener("touchmove",I);e._container.addEventListener("focusin",I)}if(i.includeAppClickHandler){g.setAttribute("tabIndex",0);n.multiAddEventListener(g,"mouseup touchend click",n.throttleFn(e.getUserPlay()))}e.wrapper.appendChild(g);e._container.appendChild(e.wrapper);if(e.incGuidance&&(!i.ui.guidance||i.ui.guidance.enabled!==!1)){var M=i.playlistObject&&(i.playlistObject.guidance||i.playlistObject.warning)||i.forceGuidance||i[e._guidance];if(M){var L=p(i,M);e.guidanceWrapper=s(e,L.gMessage,L.isWarning);e.wrapper.appendChild(e.guidanceWrapper.div)}}};v.getUserPlay=function(){var e=this;return function(){e.sonar&&setTimeout(function(){e.trigger({type:"userPlay"});e.sonar.action("click","play_"+e.daxname)},50);e.play()}};return u}(),m=function(){function t(e,t){return null==t||""===t?"":"&"+encodeURIComponent(e)+"="+encodeURIComponent(t)}function i(i){var o=i._settings,r="?";o.playlist&&""!==o.playlist&&(r="?playlistUrl="+encodeURIComponent(o.playlist));var s={};s.product=o.product;s.mediaSet=a.mediaSet(o);s.embedPageURL=o.embedPageURL;s.counterName=o.counterName;s.siteID=o.siteID;s.noTracking=!0;s.overrideHoldingImage=o.overrideHoldingImage;s.unreliableTimecodes=o.unreliableTimecodes;s.appName=o.appName;s.appType=o.appType;s.quality="hd"!==o.quality?o.quality:"high";o.startTime>0&&(s.startTime=o.startTime);"number"==typeof o.limitQuality?s.limitQuality=o.limitQuality:o.lowBandwidth&&(s.limitQuality=1);s.mediatorHost=o.mediator&&o.mediator.host?o.mediator.host:"${mediator.host}";s.mediasetClass="default";s.mediator=a.mediatorHref(o,s.mediaSet);o.mediator.saml&&(s.samlMediationUrl=a.mediatorHref(o,s.mediaSet,!1,!0));o.mediator.fck&&(s.forceConnectionSupplier=o.mediator.fck);s.forceGuidance=o.forceGuidance;s.uxHighlightColour=o.ui.colour.toString().replace("#","0x");s.uxFc=o.ui.foreColour.toString().replace("#","0x");s.uxAc=o.ui.alternateColour.toString().replace("#","0x");s.uxAfc=o.ui.alternateForeColour.toString().replace("#","0x");o.ui.locale&&o.ui.locale.lang&&(s.lang=o.ui.locale.lang);if(o.plugins){o.plugins.smpAirPlugins&&(s.pluginSet=o.plugins.smpAirPlugins);o.plugins.smpAirPluginData&&(s.pd=JSON.stringify(o.plugins.smpAirPluginData))}e.get().os.kindleSilk&&o.kindlePolicy?s.policy=o.kindlePolicy:o.policy&&(s.policy=o.policy);if(o.webcastData){o.webcastData.accurateStartTime&&(s.AST=o.webcastData.accurateStartTime);o.webcastData.scheduledEndTime&&(s.SET=o.webcastData.scheduledEndTime);o.webcastData.accurateStartTime&&(s.AET=o.webcastData.accurateEndTime)}s.enableBitrateSwitching=!o.disableBitrateSwitching;s.debug=o.debug;s.allowMainlineProfiles=o.allowMainlineProfiles;s.enableLiveRewind=o.ui.controls&&"undefined"!=typeof o.ui.controls.enableLiveRewind?o.supportLiveRewindOnMobile&&o.ui.controls.enableLiveRewind!==!1:o.supportLiveRewindOnMobile;if(e.get().connection.mobile){s.isCellular=!0;s.startingQuality=10}else s.startingQuality=60;var l=o.statsObject;i.sonar&&i.sonar.forAir(l);o.allowTracking&&(l.allowTracking=!0);s.statsObject=JSON.stringify(l);n.each(s,function(e,i){s.hasOwnProperty(e)&&(r+=t(e,i))});n.each(o.configVars,function(e,i){o.configVars.hasOwnProperty(e)&&(r+=t(e,i))});o.playlistObject&&(r+="&pObj="+encodeURIComponent(JSON.stringify(o.playlistObject)));return r}function o(){return e.get().os.kindleSilk?"http://www.amazon.co.uk/Media-Applications-Technologies-Ltd-Player/dp/B009SQRRCG/ref=sr_1_2?s=mobile-apps&ie=UTF8&qid=1392817067&sr=1-2":"market://details?id=air.uk.co.bbc.android.mediaplayer"}function r(e,t){var i=new Date-t;if(!(i>600||"true"==window.name)){var n=e._settings,a=document.createElement("style"),r=document.getElementsByTagName("head")[0];r.appendChild(a);var s=e._container.width(),l=a.sheet?a.sheet:a.styleSheet;s>300&&!e.launched?l.insertRule("#marketPlacePopup{position:absolute;width:272px;height:93px;padding-top:16px; left:"+Math.floor((s-272)/2)+"px}",0):l.insertRule("#marketPlacePopup{position:fixed;width:272px;height:93px;left:10px;top:60px;padding:10px;margin-left:16px;z-index:100000;background-color:white;height:234px}",0);l.insertRule("#marketPlacePopupHeader,#marketPlacePopupMessage{padding:8px 8px 0;color:#fff;font-size:1.4em;line-height:1.143;background:rgba(0,0,0,0.75)}",1);l.insertRule("#marketPlacePopupHeader{font-size:1.8em;line-height:1.333}",2);l.insertRule("#marketPlacePopupMessage{padding-bottom:6px}",3);l.insertRule(".buttons{width:100%;display:block;margin-top:2px}",4);l.insertRule("#marketPlacePopupInstallButton:hover,#marketPlacePopupCancelButton:hover,#marketPlacePopupInstallButton:focus,#marketPlacePopupCancelButton:focus{background:"+n.ui.colour+"}",5);l.insertRule("#marketPlacePopupInstallButton,#marketPlacePopupCancelButton{width:49%;height:44px;padding:0 16px;line-height:44px;font-size:1.4em;text-transform:uppercase;color:#1c1c1c;background:#dcdcdc}",6);l.insertRule("#marketPlacePopupCancelButton{float:right}",7);var d=n.locale(),c=window.embeddedMedia.language,u=c.t("aaampTitle",d),p=c.t("aaampMsg",d),m=c.t("aaampInstall",d),f=c.t("aaampCancel",d);e.trigger({type:"showingAppInstallPrompt"});var g=document.createElement("div");g.setAttribute("id","marketPlacePopup");g.innerHTML='<div id="marketPlacePopupHeader" class="marketPlacePopupHeader">'+u+'</div><div id="marketPlacePopupMessage" class="marketPlacePopupMessage">'+p+'</div><div id="marketPlacePopupButton" class="buttons"><button id="marketPlacePopupInstallButton" class="install">'+m+'</button><button id="marketPlacePopupCancelButton" class="cancel">'+f+"</button></div></div>";e.wrapper&&(e.wrapper.style.display="none");if(s>300&&!e.launched){if(!e.wrapperPopup){e.wrapperPopup=document.createElement("div");e.wrapperPopup.setAttribute("style",e.css)}e._container.appendChild(e.wrapperPopup);e.wrapperPopup.appendChild(g)}else document.body.appendChild(g);e.resetContainer=function(){document.getElementById("marketPlacePopup").parentNode.removeChild(document.getElementById("marketPlacePopup"));setTimeout(function(){e.trigger({type:"hidingAppInstallPrompt"});e.wrapper&&(e.wrapper.style.display="")},250)};var h=document.getElementById("marketPlacePopupInstallButton"),y=function(){h.removeEventListener("mouseup",y);h.removeEventListener("touchend",y);e.sonar.action("install","smpAirPrompt");e.resetContainer();e.setLocation(o());return!1};h.addEventListener("mouseup",y);h.addEventListener("touchend",y);var b=document.getElementById("marketPlacePopupInstallButton"),v=function(){b.removeEventListener("mouseup",v);b.removeEventListener("touchend",v);e.sonar.action("cancel","smpAirPrompt");e.resetContainer();return!1};b.addEventListener("mouseup",v);b.addEventListener("touchend",v)}}function s(e){if(!f){var t=+new Date;f=document.createElement("iframe");f.style.display="none";f.setAttribute("id","BBCMediaPlayer");f.setAttribute("src","bbcmediaplayer://play/"+i(e));e.timer=setTimeout(function(){clearTimeout(e.timer);e._container.removeChild(f);f=null;r(e,t)},500);e._container.appendChild(f)}}function l(){var e=this,t=window.embeddedMedia.parentalGuidance,n=this._settings;if(n.playlistObject){var a,o=n.playlistObject.guidance,r=n.playlistObject.guidance,l={lockClicked:t.guidance.isGuidanceLocked};
l.title=o?o:"";l.guidance=r?r:"";l.intent="play";a=n.playlistObject.guidance&&""!==n.playlistObject.guidance?!0:!1;if(a&&!t.guidance.canPlay&&!n.guidanceCleared){e.hasBeenClicked=!0;u(e);t.show(l,n.ui.colour,n.locale());return}}if(/Chrome/.test(navigator.userAgent)){var d="intent://play/"+i(e)+"#Intent;scheme=bbcmediaplayer;package=air.uk.co.bbc.android.mediaplayer;end";e.setLocation(d)}else s(e);return!1}function d(t){var i=e.get().os;return!t.dashPlaybackOnly&&!i.ios&&!i.winphone&&(i.android||i.kindleSilk)}function c(){function e(){if(void 0!==document.hidden)window.name=document.hidden;else for(var e=["webkit","moz","ms","o"],t=0;e.length>t;t++)void 0!==document[e[t]+"Hidden"]&&(window.name=document[e[t]+"Hidden"])}var t={hidden:"visibilitychange",mozHidden:"mozvisibilitychange",webkitHidden:"webkitvisibilitychange",msHidden:"msvisibilitychange",oHidden:"ovisibilitychange"};for(var i in t)if(t.hasOwnProperty(i)&&i in document){document.addEventListener(t[i],e);break}window.addEventListener("blur",function(){window.name="true"});window.addEventListener("focus",function(){window.name="false"})}function u(e){if(!g&&window.embeddedMedia&&window.embeddedMedia.parentalGuidance&&window.embeddedMedia.parentalGuidance.closedCallbacks){g=!0;window.embeddedMedia.parentalGuidance.closedCallbacks.push(function(t){t&&e.hasBeenClicked&&e.play();e.hasBeenClicked=!1})}}function m(){this.daxname="SmpAir";this.classStr="aaampCTAcss";this._guidance="aaampGuidance";this.compatibility=d;return this}var f,g=!1;m.prototype=new p("aaamp",!0);m.prototype.play=l;m.prototype.launch=function(e){var t=e._settings;this._settings=t;this._container=t.container;this.launched=!0;this.sonar=e.sonar;this.play()};m.prototype.destroy=function(){clearTimeout(this.timer)};m.prototype.extraEmbed=c;m.prototype.playlistOptions=i;m.prototype.getMarketPlaceURL=o;m.prototype.hasPlaylist=function(){var e=this._settings;return e.playlist||e.playlistObject};m.prototype.capability={markers:!0};return m}(),f=function(){var e={show:function(t,i,n,a){var o=i.locale,r=!i.ui.disableReithFonts;e.background&&e.close();e.background=document.createElement("div");var s=e.background;s.style.cssText="width:320px;height:88px;background-color:#333333;position:absolute;right:0%;top:0%";var l=document.createElement("table");s.appendChild(l);var d=document.createElement("tr");l.appendChild(d);var c=document.createElement("td");c.className="";c.style.cssText="width:44px;height:88px;padding-left:8px;background-position:center;background-repeat:no-repeat;background-image:url(//emp.bbci.co.uk/emp/assets/2.0.23/alert.png)";d.appendChild(c);var u=document.createElement("td"),p="height:88px;padding-left:8px;padding-right:8px;font-size:14px;line-height:20px;color:#fff;";document.documentElement.className.indexOf("b-reith-sans-font")>=0&&r?u.className+="font-family-sans":p+="font-family: helvetica, Arial, sans-serif";u.style.cssText=p;var m=window.embeddedMedia.language;if(n){u.textContent=m.t("errorCantPlayInBrowser",o)+" ";var f=document.createElement("span");f.textContent=m.t("useMediaPlayerApp",o);f.style.cssText="color:#fff;text-decoration:underline;cursor:pointer";u.appendChild(f);f.addEventListener("click",function(){t&&"function"==typeof t.action&&t.action("click","use_media_player_app");a()})}else{u.textContent=m.t("errorFlashIsNeeded",o)+" "+m.t("enableFlash",o);var g="https://get.adobe.com/flashplayer";u.innerHTML=u.innerHTML.replace("{link}","<a href='"+g+"' >"+m.t("downloadFlashLink",o)+"</a>");var h=u.getElementsByTagName("a")[0];if(h){h.style.cssText="color:#fff;backgroundColor:transparent;";h.addEventListener("click",function(){t&&"function"==typeof t.action&&t.action("click","download_flash_player")})}}d.appendChild(u);var y=document.createElement("td");y.style.cssText="width:34px;height:88px;margin-left:8px";var b=document.createElement("div");b.style.cssText="width:34px;height:34px;top:-25px;position:relative;background-position:center;background-repeat:no-repeat;background-image:url(//emp.bbci.co.uk/emp/assets/2.0.23/cross.png)";b.addEventListener("click",function(t){t.preventDefault&&t.preventDefault();t.returnValue=!1;e.close()});y.appendChild(b);d.appendChild(y);document.body.appendChild(s);m.screenreaderAlert(u.textContent)},close:function(){document.body.removeChild(e.background);e.background=null}};return e}(),g=function(){function t(){this._name="smphtml5";this.type="html";this.includePoster=!1;this.requireSonarJS=!0;this._currentTime=0;this._duration=0;this._fullScreen=!1;this._lastSignificant=0;this._kind="";this.pluginsToLoad=[];this.updateMediasetCallback=null;return this}function i(e){if(!h){h=!0;window.addEventListener("devicemotion",function(t){var i={rotationRate:{alpha:t.rotationRate.alpha,beta:t.rotationRate.beta,gamma:t.rotationRate.gamma},orientation:window.orientation};e.xd.fire("devicemotion",i)})}}function o(t,i){var n,a,o,r,s,l,d,c,u=t,m=u.wrapper,f=document.body.style,h=document.documentElement.style,y=e.get(),b=y.os.ios&&!y.isTabletDevice;u._pfse=function(){u._fullScreen=!0;if(!c){c=document.createElement("style");document.createTextNode&&c.appendChild(document.createTextNode(""))}document.head.appendChild(c);var e=c.sheet?c.sheet:c.styleSheet;if(e.cssRules&&0===e.cssRules.length){e.insertRule("#"+i+"wrp{z-index:2147483600!important}",0);e.insertRule("div{z-index:auto!important}",1);e.insertRule(".smpPG {z-index:2147483600!important}",2)}o=window.pageXOffset||document.documentElement.scrollLeft;r=window.pageYOffset||document.documentElement.scrollTop;n=f.overflow;f.overflow="hidden";a=h.overflow;h.overflow="hidden";document.body.addEventListener("touchmove",g);var t=u.resizePlayer=function(){var e=window.innerWidth,t=window.innerHeight;m.style.position="fixed";m.style.left="0";m.style.top="0";m.style.height=t+"px";m.style.paddingBottom=0;m.style.width=e+(b?.5:0)+"px";m.style.setProperty&&m.style.setProperty("position","fixed","important");m.style.WebkitTransform="translate3d(0,0,10em)"};window.removeEventListener("resize",p);window.removeEventListener("orientationchange",p);p=function(){t();clearTimeout(d);d=setTimeout(t,200)};window.addEventListener("resize",p);window.addEventListener("orientationchange",p);if(!s){for(var y="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0, viewport-fit=cover",v=document.getElementsByTagName("meta"),w=0;v.length>w;w++)if("viewport"===v[w].name){l=v[w].content;v[w].content=y;s=v[w];break}if(!l){s=document.createElement("meta");s.name="viewport";s.content=y;document.getElementsByTagName("head")[0].appendChild(s)}}setTimeout(t,250)};u._pfsx=function(){u._fullScreen=!1;u.resizePlayer=null;clearTimeout(d);c&&document.head.removeChild(c);window.removeEventListener("resize",p);window.removeEventListener("orientationchange",p);m.style.removeProperty&&m.style.removeProperty("position","fixed","important");m.style.height="100%";m.style.width="100%";m.style.left="";m.style.top="";m.style.position="relative";m.style.WebkitTransform="";f.overflow=n;h.overflow=a;document.body.removeEventListener("touchmove",g);if(l){s.content=l;l=null;s=null}else if(s&&s.parentNode){s.content="";s.parentNode.removeChild(s);s=null}window.scroll(o,r)}}function r(e){var t=[];e.uiClass&&t.push(e.uiClass);e.defaultUiClass&&t.push(e.defaultUiClass);return t.join(" ")}function s(e){return function(t){var a,o=t.type,r={type:o};for(var s in t)"type"!=s&&"_"!=s&&"unwanted"!=s&&(r[s]=t[s]);e.processEvent(r,t,t.data);switch(o){case"durationchange":e._duration=t.duration;break;case"initialised":e._version=(t.version+"").replace(/\.smphtml5/i,"").replace(/[^\d\.]/gim,"");e.initialised();break;case"playInBump":d(e);break;case"flashFallbackGoToBump":f.show(e.sonar,e._settings,!1,function(){d(e)});break;case"volumechange":e._muted=t.muted;e._volume=t.volume;break;case"guidanceShow":e._gCalled=!0;e._lockClicked=t.lockClicked;window.embeddedMedia.parentalGuidance.show(t,e._settings.ui.colour,e._settings.locale());e._fullScreen&&(e.wrapper.style.WebkitTransform="");break;case"pause":e._ended=r.ended;break;case"mediaItemChanged":e._mediaItem=r.mediaItem;break;case"playing":e._mediaItem=r.mediaItem;break;case"playlistLoaded":var l=document.getElementById(e.getId());if(l)if(e.playlist.title)l.title=e.playlist.title;else{var c=window.embeddedMedia.language;l.title=c.t("screenreaderDefaultIframeTitle",e._settings.locale())}break;case"playlistLoading":t.statsObject&&(a=function(){t.statsObject.playlistURL||(t.statsObject.playlistURL=t.url);e._statsObject=t.statsObject});break;case"beforeFullscreenEnter":t.applyPageFullScreen&&e._pfse();break;case"beforeFullscreenExit":if(e._settings.superResponsive){e.wrapper.style.paddingBottom="";setTimeout(function(){e.wrapper.style.paddingBottom="56.25%"},10)}t.applyPageFullScreen&&e._pfsx();break;case"loadingThreeSixty":i(e);break;case"verify":window.embeddedMedia.parentalGuidance.verify(t,function(t){e.call("PINverified",{isCorrect:t})});break;case"distributeConfig":n.isObjectEmpty(r.configToDistribute)||window.embeddedMedia.playbackSettingsMenu&&(r.configToDistribute.continuousPlay?window.embeddedMedia.playbackSettingsMenu.setAutoplayOn():r.configToDistribute.continuousPlay===!1&&window.embeddedMedia.playbackSettingsMenu.setAutoplayOff())}try{e.trigger(r);a&&a()}catch(u){a&&a();throw u}}}function d(e){var t=new m;t.launch(e)}function u(t){var i=n.clone(t,{_container:!0,container:!0,dispatch:!0,init:!0,trigger:!0}),o=e.get();i.embedReferer=document.referrer||"";i.uiClass=r(i);a.mediationUrls(i,i,!0);i.mobileNetwork=e.get().connection.mobile;i.playVideoExternally=!i.preferHtmlOnMobile&&i.preferInlineAudioPlayback&&o.htmlAudio&&t.playingAudio()&&!i.playerWasForced;i._demiIsUK=window.embeddedMedia.demi.isUK;return i}var p,g=function(e){e.preventDefault()},h=!1,y=t.prototype=new l;y.compatibility=function(t){var i=e.get(),a=!1;if(i.os.playbook||t.disableHtml||!t.smpj2OptIn&&t.requestWMP&&i.os.winphone&&window.external&&"notify"in window.external)return!1;a=t.dashPlaybackOnly?i.hasMseSupport:n.hasVideo&&(i.hasHlsVodSupport||t.preferHtmlOnMobile&&i.isMobileOrTablet||t.preferInlineAudioPlayback&&i.htmlAudio&&t.playingAudio()||i.preferHtmlPlayer||i.hasMseSupport&&(t.preferHtmlOnDesktop&&!i.isMobileOrTablet||t.smpj2OptIn||i.os.winphone&&t.playingAudio()));a&&(t.preferPlainOverDash=t.preferPlainOverDash&&!t.smpj2OptIn);if(!a&&t.preferHtmlControls!==!1&&i.hybrid&&!t.smpj2NoHybrid&&!i.isMobileOrTablet){a=!0;t.preferVideoInFlash=!0}return a};y.embedUrl=function(e){var t=e.smpj2Beta,i=t?"//emp.bbc.co.uk/emp/SMPj/2.23.21/iframe.html":"//emp.bbc.co.uk/emp/SMPj/2.23.21/iframe.html";e.html5Debug&&(i=t?"//emp.bbc.co.uk/emp/SMPj/2.23.21/debug.html":"//emp.bbc.co.uk/emp/SMPj/2.23.21/debug.html");return i};y.embed=function(t,i){var a=this;a._settings=t;a._container=t.container;for(;a._container.firstChild;)a._container.removeChild(a._container.firstChild);var r=e.get();r.supportsFlash||window.embeddedMedia.demiHelper&&window.embeddedMedia.demiHelper.determineConnectionType(t);a.uiDefaults(r);t.supportHls=r.hasHlsVodSupport;t.deviceSupports360=r.support360;for(var l=0;t.plugins.toLoad.length>l;l++){var d=t.plugins.toLoad[l];a.loadPlugin(d,d.data)}var u=a.embedUrl(t),p=["bbc.co.uk","bbc.com","britbox.com","bbcrewind.co.uk","bbcconnectedstudio.co.uk"];for(l=0;p.length>l;l++)if(location.host.indexOf(p[l])!==-1){u=u.replace("bbc.co.uk",p[l]);try{document.domain=p[l]}catch(m){}}a.uniqueId="X"+Math.random();var f=a._container,g=a.getId(),h=a.wrapper=n.getWrapper(t,999);h.setAttribute("id",g+"wrp");f.appendChild(h);var y=document.createElement("iframe");y.setAttribute("id",g);y.setAttribute("name",g);y.setAttribute("gesture","media");y.setAttribute("allow","autoplay");y.setAttribute("frameborder",0);y.setAttribute("scrolling","no");y.setAttribute("allowfullscreen","");y.setAttribute("allowtransparency","");y.setAttribute("style","position:absolute;left:0;top:0;width:100%;height:100%");h.appendChild(y);y.onload=function(){var e=g;o(a,e);a.xd&&(a.xd._listeners={});a.xd=new c(e);a.xd.on("jsapi",s(a));if("object"!=typeof window.JSON){var t=document.createElement("script");t.async=!0;t.src="https://emp.bbci.co.uk/emp/assets/bump-3/json.js";var i,n=!1;t.onload=function(){clearTimeout(i);n=!0;a.fireBootstrap()};document.head.appendChild(t);var r=function(){window.JSON?a.fireBootstrap():i=setTimeout(r,1e3)};i=setTimeout(r,1e3)}else a.fireBootstrap()};y.setAttribute("src",u);window.addEventListener&&window.addEventListener("pageshow",function(e){if(e.persisted){y.setAttribute("src",u);a._fullScreen&&a._pfsx()}});i(a,{markers:!0,queuedPlaylist:!0,previousPlaylist:!0,threeSixty:r.support360,inPage:!0,overlay:!0})};y.fireBootstrap=function(){var e=this;window.embeddedMedia.playerInstances[e.uniqueId]=e;var t={player:{vars:u(e._settings)},id:e.uniqueId,requireMap:window.bbcRequireMap};try{var i=document.getElementById(e.getId());i.contentWindow.bootstrap(t)}catch(n){e.xd.fire("bootstrap",t)}};y.updateUiConfig=function(e){try{var t=document.getElementById(this.getId());if(t)if(e.hidePlayerFromAT){t.setAttribute("aria-hidden",!0);t.setAttribute("tabindex","-1")}else{t.removeAttribute("aria-hidden");t.removeAttribute("tabindex")}}catch(i){}this.call("updateUiConfig",e)};y.updateConfig=function(e){this.call("updateConfig",e)};y.distributeConfig=function(e,t){this.call("distributedConfig",{config:e,type:t});this._settings.set(e)};y.captureIntent=function(e){this.call("captureIntent",e)};y.updateMediaset=function(){var e=this,t=function(){var t=e._settings,i={mediator:t.mediator,mobileNetwork:window.embeddedMedia.demi.isMobileNetwork};a.mediationUrls(i,t,!0);e.call("updateConfig",i)};e.ready?t():e.updateMediasetCallback=t};y.loadPlaylist=function(e){var t=this;if(t.ready){var i=u(t._settings);i.nonUserBypass=i.nonUserBypass||e===!0;t.playlist=null;t._mediaItem=null;t.call("loadPlaylist2",i);i.playlistObject&&i.playlistObject.embedRights&&!i.externalEmbedUrl&&t.updateUiConfig({embed:{enabled:!1}});var n=i.webcastData;n&&(n.accurateStartTime||n.scheduledStartTime||n.accurateEndTime||n.scheduledEndTime)&&t.webcastData(n);i.nonUserBypass=!1}};y.getId=function(){return this._name+"iframe"+this._settings.domid};y.call=function(e,t){try{var i=document.getElementById(this.getId()),n=i.contentWindow.publicApi.api[e];n||(n=i.contentWindow.publicApi[e]);n(t)}catch(a){this.xd&&this.xd.fire("jsapi",{call:e,params:t})}};y.setPreviousPlaylist=function(e,t){var i=this;i.call("setPreviousPlaylist",{playlist:e,options:t})};y.queuePlaylist=function(e,t){var i=this;i.call("queuePlaylist",{playlist:e,options:t})};y.loadPlugin=function(e,t){if(e)if(e.j2){var i={url:e.j2,data:t};if(this.ready){this.setData(i.data);this.loadPluginWithCheck(e.j2,i,"loadPlugin2")}else this.pluginsToLoad.push(i)}else if(e.html){i={url:e.html,data:t};if(this.ready){this.setData(i.data);this.loadPluginWithCheck(e.html,i,"loadPlugin2")}else this.pluginsToLoad.push(i)}};y.webcastData=function(e){if(e){l.prototype.webcastData.call(this,e);this.setData({name:"SMP.webcastData",data:e})}};y.dispatchEvent=function(e,t){e&&this.call("dispatch",{type:e,data:t},!0)};y.show=function(e){this.wrapper.firstChild.style.width="100%";this._settings.tryPlayAfterInHtml&&e&&this.play(!0)};y.hide=function(){this.wrapper.firstChild.style.width="0%"};y.getHandleJSAPI=function(){return s(this)};y.initialised=function(){var t=this,i=t._settings;t.before();t.updateMediasetCallback&&t.updateMediasetCallback();for(var n=0;t.pluginsToLoad.length>n;n++){var a=t.pluginsToLoad[n];a.waitOnPluginLoad=i.waitOnPluginLoad;t.setData(a.data);this.loadPluginWithCheck(a.url,a,"loadPlugin2")}(i.playlistObject||i.playlist)&&t.loadPlaylist(!0);t.started(e.get())};return t}(),h=function(){function t(e){return e.getUTCFullYear()+"/"+i(e.getUTCMonth()+1)+"/"+i(e.getUTCDate())+" 00:00:00 UTC"}function i(e){return 10>e?"0"+e:e}function o(e,t){return function(){window.embeddedMedia.handle(e,t)}}function r(){var e=window.embeddedMedia,t=0;return function(i,n){var a=e.playerInstances[i],r=n.type;if(a&&i==a._container.getAttribute("id"))if(a._swf){var s=n.data;if("screenReaderAlert"!=r){var l={type:r};s&&s.callType&&(s=s.data);a.processEvent(l,s,s);switch(r){case"initialised":if(20>a._initAttempts){a._initAttempts++;try{a.initialised()}catch(d){setTimeout(o(i,n),100);return}}else{a.call("showError",window.embeddedMedia.language.t("6004",a._settings.locale()));a.trigger(new u(6005,a._settings));a._initAttempts=0}break;case"loadedmetadata":a._duration=s.duration;break;case"canplay":a._currentTime=s.resumeTime;break;case"volumechange":l.volume=s;a._volume=s;l.muted=a._muted=0===s;break;case"info":a._currentTime=s.playheadTime;break;case"playlistLoaded":l.url=s.url;break;case"mediaItemChanged":a._kind=l.kind;a._mediaItem=n.data;break;case"guidanceshow":if(a._settings.guidanceCleared)a.call("updateGuidance",a._settings.guidance);else{a._restoreFocus=!0;a._gCalled=!0;a._lockClicked=n.data.lockClicked;e.parentalGuidance.show(n.data,a._settings.ui.colour,a._settings.locale())}break;case"verify":e.parentalGuidance.verify(s,function(e){a.call("verified",e)});break;case"focusOnFlash":case"focusAfterFlash":case"focusBeforeFlash":a[r]()}a.trigger(l)}else{if("string"!=typeof s)return;window.embeddedMedia.language.screenreaderAlert(s)}}else t++<20?setTimeout(o(i,n),100):a.trigger(new u(6e3,a._settings))}}function s(){this.type="flash";this._name="smp-flash";this._volume=0;this._currentTime=0;this._lastSignificant=0;this._duration=0;this._kind="";this.includePoster=!1;this._pluginsToLoad=[];this._initAttempts=0;return this}function d(e,t,i,n,a,o){for(var r in i)if(i.hasOwnProperty(r)){var s=encodeURIComponent(r),l=encodeURIComponent(i[r]);n.flashvars?n.flashvars+="&"+s+"="+l:n.flashvars=s+"="+l}var d=document.createElement(p?"div":"object");for(var u in n)n.hasOwnProperty(u)&&"movie"!==u.toLowerCase()&&d.appendChild(c(u,n[u]));if(p){var m=document.createElement("div");m.innerHTML="<object classid='clsid:D27CDB6E-AE6D-11cf-96B8-444553540000'><param name='movie' value='"+a+"'>"+d.innerHTML+"</object>";d=m.firstChild}else{d.setAttribute("type","application/x-shockwave-flash");d.setAttribute("data",a)}d.setAttribute("id",e);d.setAttribute("height","100%");d.setAttribute("width","100%");t.parentNode&&t.parentNode.replaceChild(d,t);o&&o({ref:d,id:t.id})}function c(e,t){var i=document.createElement("param");i.setAttribute("name",e);i.setAttribute("value",t);return i}var p=!1,m=s.prototype=new l;m.compatibility=function(t){var i=e.get(),n=!1;if(window.navigator&&navigator.plugins){for(var a=0;navigator.plugins.length>a;a++)"Shockwave Flash"==navigator.plugins[a].name&&(n=!0);if(!n&&(!document.documentMode||11>document.documentMode)&&window.ActiveXObject)try{n=!!new ActiveXObject("ShockwaveFlash.ShockwaveFlash");p=!0}catch(o){}}return!t.dashPlaybackOnly&&!i.os.kindleSilk&&!i.os.android&&n};m.embed=function(i,a){var o=e.get(),r=this;r._settings=i;r._container=i.container;for(var s=0;i.plugins.toLoad.length>s;s++){var l=i.plugins.toLoad[s];r.loadPlugin(l,l.data)}r.onLoad=a;var d=r._container.getAttribute("id"),c=r.name()+"SWF"+d,u={domId:d,jsCallbackMethod:"window.embeddedMedia.handle",forceGuidance:i.forceGuidance,today:t(i.today),isBSTime:i.isBSTime,waitOnPluginLoad:i.waitOnPluginLoad,uxHighlightColour:i.ui.colour,uxHighlightForeColour:i.ui.foreColour,customRdotBaseURL:i.customRdotBaseURL,enableRdotReporting:i.enableRdotReporting,noTracking:i.noTracking,embedReferer:document.referrer||"",embedPageUrl:i.embedPageURL,enableSonarReporting:!1,bumpVersion:window.embeddedMedia.version,appName:i.appName,appVersion:i.appVersion,appType:i.appType};if(i.ui.locale){i.ui.locale.lang&&(u.lang=i.ui.locale.lang);i.ui.locale.path&&(u.localePath=i.ui.locale.path)}var p={quality:"high",bgcolor:"000000",allowFullScreen:!0,allowScriptAccess:"always"};o.useOpaque&&(p.wmode="opaque");var f,g,h,y,b=r.wrapper=n.getWrapper(i,999),v=' style="z-index : 1000000;position:fixed;top: -9999px;left : 100px;max-width: 600px;background-color: #ffffff;color: #000000;border-style:solid;border-width:1px;padding: 8px 8px"',w="font-weight:bold; font-size : 0.9em; font-family: arial; color:black",P=i.locale(),k=document.createElement("div");k.innerHTML="<div"+v+' id="'+d+'jumpMediaPlayer"><a style="'+w+'" id="'+d+'jumpMediaPlayerLink" href="">'+window.embeddedMedia.language.t("jumpMediaPlayer",P)+"</a></div>";y=k.firstChild;b.appendChild(y);k.innerHTML="<div"+v+' id="'+d+'beforeFlash"><a style="'+w+'" id="'+d+'beforeFlashLink" href="//www.bbc.co.uk/faqs/online/mp_accessibility_help">'+window.embeddedMedia.language.t("mediaPlayerHelp",P)+"</a></div>";g=k.firstChild;b.appendChild(g);var C=function(e){e.target.style.top="100px"},x=function(e){e.target.style.top="-9999px"};y.addEventListener("focus",C);y.addEventListener("blur",x);g.addEventListener("focus",C);g.addEventListener("blur",x);y.addEventListener("keydown",function(e){var t=e.keyCode||e.which;if(13===t||32===t){e.preventDefault&&e.preventDefault();e.returnValue=!1;r.focusAfterFlash();return!1}});g.addEventListener("keydown",function(e){var t=e.keyCode||e.which;if(9===t&&!e.shiftKey){e.preventDefault&&e.preventDefault();e.returnValue=!1;setTimeout(function(){if(r._swf){g.blur();r._swf.focusOnFirst();r._swf.tabIndex=0;r._swf.focus()}},200);return!1}});r.focusBeforeFlash=function(){var e=document.getElementById(d+"beforeFlashLink");e&&setTimeout(function(){e.focus()},10)};f=document.createElement("div");f.setAttribute("style","position : absolute;left:0px;top:0px;right : 0px;bottom : 0px");b.appendChild(f);var _=document.createElement("div");_.setAttribute("id",c);f.appendChild(_);k.innerHTML="<div"+v+' id="'+d+'afterFlash" style="z-index: 1000000;position:fixed;top: 10px;left : -9999px;background-color: #ffffff;color: #000000;border-style:solid;border-width:1px;padding: 8px 8px"><a id="'+d+'returnToMediaPlayerLink" href="#afterFlash">'+window.embeddedMedia.language.t("outOfMediaPlayer",P)+"</a></div>";h=k.firstChild;b.appendChild(h);h.addEventListener("keydown",function(e){var t=e.keyCode||e.which;if(13===t||32===t||9===t&&e.shiftKey){e.preventDefault&&e.preventDefault();e.returnValue=!1;setTimeout(function(){if(r._swf){9===t?r._swf.focusOnLast():r._swf.focusOnFirst();r._swf.tabIndex=0;r._swf.focus()}},200)}});r.focusAfterFlash=function(){var e=document.getElementById(d+"returnToMediaPlayerLink");e&&setTimeout(function(){e.focus()},10)};r.focusOnFlash=function(){setTimeout(function(){if(r._swf){r._swf.tabIndex=0;r._swf.focus()}},10)};r._container.innerHTML="";r._container.appendChild(b);r.attachListeners();r.embeddingProperties=[c,f.firstChild,u,p,i.swfUrl,function(e){r._swf=e.ref;r.onLoad(r,m.capability());window.chrome&&b.addEventListener("mousedown",function(){"Adobe Flash Player"==e.ref.title&&r.play()})}];r.embedIt()};m.embedIt=function(){var e=this,t=typeof document.readyState;"undefined"!==t&&("complete"==document.readyState||"interactive"==document.readyState)||"undefined"==t&&document.body?d.apply(null,e.embeddingProperties):document.attachEvent?document.attachEvent("onreadystatechange",function(){"complete"==document.readyState&&d.apply(null,e.embeddingProperties)}):document.addEventListener&&document.addEventListener("DOMContentLoaded",function(){d.apply(null,e.embeddingProperties)})};m.attachListeners=function(){window.embeddedMedia.handle=r(this._settings.domid,this)};m.hide=function(e){e?this._swf.style.visibility="hidden":this.wrapper.style.left="-9000px"};m.show=function(e){this._swf.style.visibility="visible";this.wrapper.style.left="0px";e&&this.play()};m.initialised=function(){var t=this,i=e.get();t.uiDefaults(i);t.call("setUIOptions",t._settings.ui);t.before();for(var n=0;t._pluginsToLoad.length>n;n++){var a=t._pluginsToLoad[n];t.setData(a.data);a.swf&&t.loadPluginWithCheck(a.swf,a.swf)}t.ready=!0;t.call("updateGuidance",t._settings.guidance);t.loadPlaylist();var o=window.embeddedMedia,r=!1;o.openCallbacks.push(function(e){t.hide();if(t._playing&&!t.paused()){r=!0;t.pause()}e&&e.type&&setTimeout(function(){t.trigger(e)},0)});o.closedCallbacks.push(function(e){e&&e.type&&setTimeout(function(){t.trigger(e)},0);t.show(r);r=!1;if(t._restoreFocus){t._restoreFocus=!1;t.focusOnFlash();t._swf.focusOnFirst()}});"background"==t._settings.product&&(t.wrapper.visibility="");t.started(i)};m.updateMediaset=function(){var e=this,t={};a.mediationUrls(t,e._settings);e.call("updateMediation",t)};m.queuePlaylist=function(e,t){var i=this;if(i._swf){t.statsInfo=t.statsObject;i.call("queuePlaylistObject",{playlist:e,options:t})}};m.loadPlaylist=function(){var t=this;if(t._swf){var i={},n=t._settings;t._volume=n.volume;a.mediationUrls(i,n);i.playlistUrl=n.playlist;i.embedPageURL=n.embedPageURL;i.noTracking=n.noTracking;i.counterName=n.counterName;i.appName=n.appName;i.appType=n.appType;i.appVersion=n.appVersion;i.quality=n.quality;i.loop=n.loop;i.enableStatsReporting=n.enableStatsReporting;i.siteID=n.siteID;i.overrideHoldingImage=n.overrideHoldingImage;i.overrideCtaDuration=n.overrideCtaDuration;i.enableSonarReporting=!1;i.enableBarbReporting=!1;i.bumpVersion=window.embeddedMedia.version;i.liveEnvironment=n.liveEnvironment;i.statsInfo=n.statsObject;i.suppressItemKind=n.suppressItemKind;i.startTime=n.startTime;i.unreliableTimecodes=n.unreliableTimecodes;i.maintainTheLock=n.maintainTheLock;"number"==typeof n.bitrateFloor&&(i.bitrateFloor=n.bitrateFloor);"number"==typeof n.bitrateCeiling&&(i.bitrateCeiling=n.bitrateCeiling);"number"==typeof n.limitQuality?i.limitQuality=n.limitQuality:n.lowBandwidth&&(i.limitQuality=1);i.autoPlay=n.autoplay;i.promptGuidanceWhenAutoplay=n.promptGuidanceWhenAutoplay;i.noInPlaybackGuidanceMessage=n.noInPlaybackGuidanceMessage;i.flashOnlyUseOSMF=n.flashOnlyUseOSMF;i.enableStageVideo=!(n.disableStageVideo||e.os&&"xp"==e.os.win&&n.superResponsive);n.mediator.fck&&(i.forceConnectionSupplier=n.mediator.fck);t.playlist=null;t._mediaItem=null;if(n.playlistObject){t.call("setPlaylistObject",{playlist:n.playlistObject,options:i});n.playlistObject.embedRights&&!n.externalEmbedUrl&&t.updateUiConfig({embed:{enabled:!1}})}else t.call("setPlaylistOptions",i);var o=n.webcastData;o&&(o.accurateStartTime||o.scheduledStartTime||o.accurateEndTime||o.scheduledEndTime)&&t.webcastData(n.webcastData)}};m.call=function(e,t){if(this._swf)if(this._swf.call){this.hasCalledSwf=!0;this._swf.call(e,t)}else!this.hasCalledSwf||"setPlaylistOptions"!=e&&"setPlaylistObject"!=e||this.embedIt()};m.loadPlugin=function(e,t){if(e&&e.swf)if(this.ready){this.setData(t);this.loadPluginWithCheck(e.swf,e.swf)}else this._pluginsToLoad.push({swf:e.swf,data:t})};m.updateUiConfig=function(e){this.call("setUIOptions",e)};m.dispatchEvent=function(e,t){e&&this.call(e,t)};m.webcastData=function(e){if(e){l.prototype.webcastData.call(this,e);this.call("webcastData",e)}};m.capability=function(){var t=e.get();return{markers:!0,queuedPlaylist:!0,inPage:!0,chromecast:t.supportChromecast,overlay:t.useOpaque}};return s}(),y=function(){function e(e){return e.phantomPlayer===!0}function t(){this.compatibility=e;this.daxname="SMPPHANTOM";this._name="smp-phantom";return this}t.prototype=new p("smp-phantom");t.prototype.play=function(){};return t}(),b=function(){function t(e){this._settings=e;return this}t.prototype={decide:function(){var t=this,i=[y,h,g,m],n=e.get(),a=this._settings,o="";try{o=document.cookie+""}catch(r){}if("background"==a.product){t.player=new d;t.name=t.player._name;return t.player}if(a.threeSixty){if(n.support360||/force360Support=true/i.test(o)){t.player=new g;t.name=t.player._name}return t.player}var s=o.match(/bbcBumpForcePlayer=(.*?)(?:;|$)/),l=s&&s.length?s[1]:"",c=/ckps_smpPreferFlash=true/i.test(o);t.name=null;a.attemptHlsPlaybackOnAndroid&&n.allowHlsVod();if(!a.showUnsupportedMessage||""!==l){var u=[];if(a.preferHtmlControls||a.preferHtmlOnDesktop||a.preferHtmlOnMobile&&n.isMobileOrTablet||(a.smpj2OptIn||n.preferHtmlPlayer)&&!c){var p=[];u.push(i[0]);for(var f=1;i.length>f;f++)"html"==i[f]().type?u.push(i[f]):p.push(i[f]);u=u.concat(p)}else u=i.concat();for(f=0;u.length>f;f++){var b=new u[f];if(l==b._name||""===l&&b.compatibility(a)){""!==l&&(a.playerWasForced=!0);t.player=b;t.name=b._name;break}}return t.player}}};return t}(),v=function(){var e=0;return{error:function(t,i,n){if(i.enableRdotReporting){var a=i.customRdotBaseURL;if(a&&0===(a+"").indexOf("//")){n="c~"+navigator.platform+(n?"~"+n:"");var o=encodeURIComponent(i.counterName),r=[a,"av","0","-","bump","1.0.0","bump",window.embeddedMedia.version,"-",e++,o,"-","-","-","-","-","-","-","-","-","-","-","-","-",t,n].join("/"),s=new Image;s.src=r;return r}}}}}(),w=function(){function e(e){return a(o(n(e),8*e.length))}function t(e){for(var t,i="0123456789abcdef",n="",a=0;e.length>a;a++){t=e.charCodeAt(a);n+=i.charAt(t>>>4&15)+i.charAt(15&t)}return n}function i(e){for(var t,i,n="",a=-1;++a<e.length;){t=e.charCodeAt(a);i=e.length>a+1?e.charCodeAt(a+1):0;if(t>=55296&&56319>=t&&i>=56320&&57343>=i){t=65536+((1023&t)<<10)+(1023&i);a++}127>=t?n+=String.fromCharCode(t):2047>=t?n+=String.fromCharCode(192|t>>>6&31,128|63&t):65535>=t?n+=String.fromCharCode(224|t>>>12&15,128|t>>>6&63,128|63&t):2097151>=t&&(n+=String.fromCharCode(240|t>>>18&7,128|t>>>12&63,128|t>>>6&63,128|63&t))}return n}function n(e){for(var t=Array(e.length>>2),i=0;t.length>i;i++)t[i]=0;for(i=0;8*e.length>i;i+=8)t[i>>5]|=(255&e.charCodeAt(i/8))<<24-i%32;return t}function a(e){for(var t="",i=0;32*e.length>i;i+=8)t+=String.fromCharCode(e[i>>5]>>>24-i%32&255);return t}function o(e,t){e[t>>5]|=128<<24-t%32;e[(t+64>>9<<4)+15]=t;for(var i=Array(80),n=1732584193,a=-271733879,o=-1732584194,c=271733878,u=-1009589776,p=0;e.length>p;p+=16){for(var m=n,f=a,g=o,h=c,y=u,b=0;80>b;b++){i[b]=16>b?e[p+b]:d(i[b-3]^i[b-8]^i[b-14]^i[b-16],1);var v=l(l(d(n,5),r(b,a,o,c)),l(l(u,i[b]),s(b)));u=c;c=o;o=d(a,30);a=n;n=v}n=l(n,m);a=l(a,f);o=l(o,g);c=l(c,h);u=l(u,y)}return Array(n,a,o,c,u)}function r(e,t,i,n){return 20>e?t&i|~t&n:40>e?t^i^n:60>e?t&i|t&n|i&n:t^i^n}function s(e){return 20>e?1518500249:40>e?1859775393:60>e?-1894007588:-899497514}function l(e,t){var i=(65535&e)+(65535&t),n=(e>>16)+(t>>16)+(i>>16);return n<<16|65535&i}function d(e,t){return e<<t|e>>>32-t}function c(n){return t(e(i(n)))}function u(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function p(e){if(e.addEventListener){st.push(e);e.addEventListener("keydown",f)}}function m(){for(var e=0;st.length>e;e++)st[e].removeEventListener("keydown",f);st=[]}function f(e){32==e.keyCode&&e.preventDefault()}function g(){return!!tt}function h(){X="true"==v(rt,"pgAgeConfirm");tt=v(rt,"pgPIN");it="true"==v(rt,"pgUnlocked")}function y(e,t){Y=[];X=!1;this.closedCallbacks=[];this.updateCallbacks=[];this.openedCallbacks=[];nt=e||{noPlayerAction:function(){}};this.guidance={};this.isOver16=t.over16;this.isUnder16=t.under16;t.over16&&t.under16&&(this.isOver16=!1);at=t;this.usingReith=!1;this.reithEnabled=!at.ui.disableReithFonts;h();this._isLocked=g()&&!it;J=window.embeddedMedia.language;this.updateGuidanceState();return this}function b(e,t){var i=document.getElementById(e),n=function(){i.style.transition="0.3s";t?i.style.backgroundColor=at.ui.guidance.pgColour:i.style.color=at.ui.guidance.pgColour},a=function(){i.style.transition="0.3s";t?i.style.backgroundColor=at.ui.guidance.pgBackgroundColour:i.style.color="#ffffff"};i.onmouseover=i.onfocus=n;i.onmouseout=i.onblur=a}function v(e,t){try{var i=document.cookie}catch(n){i=""}var a=i.indexOf(e+t+"=");if(a==-1)return null;a=i.indexOf("=",a)+1;var o=i.indexOf(";",a);o==-1&&(o=i.length);return unescape(i.substring(a,o))}function w(e,t,i,n){var a=new Date;a.setTime(a.getTime()+15552e6*(n?-1:1));if(!n){a.setDate(15);a.setHours(12);a.setMinutes(0);a.setSeconds(0)}var o="; expires="+a.toGMTString(),r=location.hostname;r.indexOf(".bbc.co.uk")!==-1&&(r=".bbc.co.uk");r.indexOf(".bbc.com")!==-1&&(r=".bbc.com");try{document.cookie=e+t+"="+escape(i)+o+"; Domain="+r+"; Path=/"}catch(s){}}function P(e){for(;e.lastChild;)e.removeChild(e.lastChild)}function k(e,t){Y.push(e);e.setAttribute("tabindex","0");e.onkeydown=function(t){t=t||window.event;var i=t.keyCode||t.which;if(9==i||13==i){u(t);if(9==i){var n=Y.length-1;Q=t.shiftKey?0===Q?n:Q-1:Q===n?0:Q+1;setTimeout(function(){Y[Q].focus()
},200)}else setTimeout(function(){et=!0;e.click()},200)}};if(t){Q=Y.length-1;e.focus()}}function C(){Q=0;Y=[];k($)}function x(e,t,i){t&&i&&i.isUnder16&&(X=!1);var n="";if(X){e.style.backgroundPosition="center";n=J.t("pgAriaAgeConfirmCheckBox",K)}else{e.style.backgroundPosition="-30px";n=J.t("pgAriaAgeConfirmCheckBoxUnchecked",K)}e.setAttribute("aria-label",n);e.textContent=e.innerText=n}function _(e,t,i){var n=document.getElementById("pgErrorMessage");if(n)P(n);else{n=document.createElement("div");n.id="pgErrorMessage";var a=n.style;a.width=V.style.width;a.backgroundColor=at.ui.guidance.pgSeparatorColour;a.marginTop="15px";a.marginBottom="5px";a.left="-26px";a.position="relative"}i?e.insertBefore(n,e.firstChild):e.appendChild(n);var o=document.createElement("div"),r=o.style;r.fontSize="14px";r.position="relative";r.width="100%";r.color="#ffffff";r.fontSize="11px";r.textAlign="center";r.paddingTop=r.paddingBottom="10px";o.innerHTML='<span style="display:inline-block;  background-image: url(//emp.bbci.co.uk/emp/assets/2.0.23/alert-color.png); background-repeat: no-repeat; background-size: 100% 100%; margin-right:5px; width:15px; height:13px;"></span>'+t;n.appendChild(o)}function E(e){if(z)return!1;z=document.createElement("div");z.setAttribute("tabindex","0");z.id="parentalGuidanceBackground";z.className="smpPG";var t=z.style;t.width=t.height="5000px";t.left=t.top="-500px";t.zIndex="2147483600";t.backgroundColor="#333333";t.filter="alpha(opacity=85)";t.opacity=.85;V=document.createElement("div");V.id="guidancePopup";V.setAttribute("role","alertdialog");V.setAttribute("aria-labelledby","pgHeaderTitle");V.className="smpPG";var i=V.style;i.position=t.position="fixed";if(400>window.innerWidth){i.width=window.innerWidth-20+"px";i.left="10px"}else{i.width="390px";i.left=(window.innerWidth-390)/2+"px"}if(window.innerHeight>350){i.top="50%";i.marginTop="-175px"}else{i.top="5px";i.marginTop="0px"}i.lineHeight="normal";i.verticalAlign="middle";i.color="white";i.zIndex="2147483600";i.backgroundColor=at.ui.guidance.pgBackgroundColour;i.textAlign="left";if(document.documentElement.className.indexOf("b-reith-sans-font")>=0&&e.reithEnabled){V.className+=" font-family-sans";e.usingReith=!0}else i.fontFamily="helvetica, Arial, sans-serif";document.body.appendChild(z);document.body.appendChild(V);V.onkeydown=function(t){t=t||window.event;var i=t.keyCode||t.which;27===i&&e.close(!1)};var n=document.createElement("div");n.id="guidanceContainer";n.style.paddingRight=n.style.paddingLeft="26px";n.style.textAlign="center";V.appendChild(n);var a=document.createElement("div");a.id="pgHeaderTitle";a.style.height="42px";a.style.position="relative";a.style.marginTop="35px";n.appendChild(a);var o=document.createElement("span");o.innerHTML=J.t("pgHeader",K);o.id="pgHeader";o.style.fontSize="24px";o.style.color=at.ui.guidance.pgColour;a.appendChild(o);W=document.createElement("div");W.id="guidanceBody";W.style.position="relative";W.style.width="100%";n.appendChild(W);q=document.createElement("div");q.id="guidanceFooter";var r=q.style;r.width="100%";r.height="42px";r.bottom="0px";r.display="table";r.textAlign="center";V.appendChild(q);$=document.createElement("a");$.setAttribute("aria-label",J.t("pgClose",K));$.id="pgExit";var s=$.style;$.title=J.t("pgClose",K);s.position="absolute";s.right=s.top="12px";s.cursor="pointer";s.width=s.height="18px";s.backgroundImage="url(//emp.bbci.co.uk/emp/assets/2.0.23/GEL_Remove_icon.png)";s.backgroundRepeat="no-repeat";V.appendChild($);p($);var l=!1;setTimeout(function(){l=!0},500);$.onclick=function(t){if(l){t=t||window.event;u(t);N(!1,this.id);e.close(!1)}};return!0}function T(e){var t=document.createElement("div"),i=t.style;i.marginTop="-1px";i.position="absolute";i.width="100%";i.height="1px";i.backgroundColor=at.ui.guidance.pgSeparatorColour;e.appendChild(t)}function S(e,t){function i(){if(r){N(!1,n.id);s()}}var n=document.createElement("a");n.id=t.id;n.textContent=n.innerText=t.text;n.setAttribute("aria-label",t.text+" button");var a=n.style;a.cursor="pointer";try{a.display="table"}catch(o){a.display="block"}a.verticalAlign="middle";a.width="100%";a.lineHeight="3.5";a.fontSize="14px";a.color="#ffffff";a.backgroundColor=at.ui.guidance.pgBackgroundColour;q.appendChild(n);b(t.id,!0);p(n);var r=!1;setTimeout(function(){r=!0},500);var s=t.clickFunction;n.onclick=i;k(n,t.focus);return n}function I(e,t,i){P(q);T(q);var n=S(e,t);if(i){n.style.borderBottom="1px solid "+at.ui.guidance.pgSeparatorColour;S(e,i)}}function M(e,t){P(W);C();var i=document.createElement("div");i.id="guidanceMessage";var n=i.style;n.marginTop="15px";n.marginBottom="5px";n.width="100%";n.position="relative";n.fontSize="13px";W.appendChild(i);L("newAgeConfirmationTitle");var a=document.createElement("div");a.id="guidanceG";var o=a.style;o.display="inline-block";o.margin="auto";o.borderRadius="50%";o.width=o.height="15px";o.backgroundColor="red";o.position="relative";o.top="-2px";o.fontSize="12px";e.usingReith&&(o.lineHeight="1px");i.appendChild(a);var r=document.createElement("span");r.innerHTML="G";var s=r.style;s.lineHeight="normal";s.position="relative";s.left="-0.5px";s.top="1px";s.color="#ffffff";s.fontFamily="Arial, Helvetica, freesans, sans-serif";e.usingReith&&(s.left="0");a.appendChild(r);var l=document.createElement("span");l.id="guidanceText";l.textContent=l.innerText=t;if(e.isUnder16){l.appendChild(document.createElement("br"));l.appendChild(document.createElement("br"));var d=document.createElement("span");d.textContent=d.innerText=J.t("newUnder16WithPermission",K);l.appendChild(d)}s=l.style;s.left="0px";s.top="16px";s.marginLeft="5px";s.lineHeight="16px";s.color="#b2b7c4";i.appendChild(l);var c=document.createElement("div");c.id="ageConfirm";var u=c.style;u.width="100%";u.height="57px";u.position="relative";u.fontSize="14px";u.color="#ffffff";u.display="-ms-inline-flexbox";u.justifyContent="center";W.appendChild(c);var p=document.createElement("button");p.id="ageConfirmCheck";var m=p.style;m.background="url(//emp.bbci.co.uk/emp/assets/2.0.23/tick.png) no-repeat center";m.backgroundPosition="-30px";m.position="absolute";m.top="16px";m.height=m.width="25px";m.verticalAlign="middle";m.cursor="pointer";m.backgroundColor="#ffffff";m.borderWidth="0";m.textIndent="-9999px";m.whiteSpace="nowrap";m.overflow="hidden";c.appendChild(p);k(p,!0);x(p,!0,e);var f=document.createElement("span");f.innerHTML=e.isUnder16?J.t("newPgAgeConfirmationUnder16",K):J.t("pgAgeConfirmation",K);f.style.position="relative";f.style.top="20px";f.style.marginLeft="35px";c.appendChild(f);var g=!1;setTimeout(function(){g=!0},500);p.onclick=function(){if(g){X=!X;x(p)}};var h=function(){if(e.isUnder16&&X){e.storeAgeConfirmation();e.setUnder16Permission(!0);e.updateGuidanceState();e.close(!0)}else if(X)O(e);else{var t=e.isUnder16?J.t("pgUnder16PermissionValidationError",K):J.t("pgPasswordValidationError",K);_(i,t,!1)}},y=e.isUnder16?J.t("newPgPlay",K):J.t("pgContinue",K);I(e,{id:"pgAgeContinue",text:y,clickFunction:h})}function L(e){var t=document.getElementById("pgHeader");t.textContent=t.innerText=J.t(e,K)}function O(e){P(W);C();var t=document.createElement("div");t.setAttribute("role","alertdialog");t.setAttribute("aria-labelledby","pgInfoHeader");t.setAttribute("aria-describedby","pgInfo");t.style.marginBottom="24px";W.appendChild(t);L("newPgTurnOnParentalGuidance");if(Z)var i="pgInfo",n="pgUnlock";else{var a=e._intent;if("download"==a){i="pgInfoPlusDownload";n="pgDownload"}else if("play"==a){i="pgInfoPlusPlay";n="newToolTipPlay"}else{i="pgInfo";n=a}}var o=document.createElement("div");o.id="infoLinkContainer";var r=document.createElement("div");r.style.color="#b2b7c4";var s=J.t("notSuitableForChildMessage",K)+'</br> </br>  <a id="pgLink" target="_blank" style="color:#ffffff; text-decoration:none; font-size:0.9em;" href="//www.bbc.co.uk/iplayer/guidance">'+' <div style="display:inline-block; margin-right: 5px; color:black; font-weight:bold; width:13px; height:13px; background-color:white; border-radius:50px;font-family: Arial, Helvetica, freesans, sans-serif;">i</div>'+J.t("findOutMore",K)+"</a> ",l=document.createElement("div");l.id="pgInfo";l.style.fontSize="13px";l.style.color="#868686";l.style.marginTop="35px";t.appendChild(l);l.appendChild(o);o.style.margin=" 0 auto";o.appendChild(r);r.innerHTML=s;var d=document.getElementById("pgLink");d.setAttribute("aria-label",J.t("findOutMore",K));d.style.outline="none";p(d);r.style.display="inline-block";o.style.textAlign="center";var c=l.getElementsByTagName("p");if(c)for(var u=0;c.length>u;u++){c[u].style.color="#868686";c[u].style.fontSize="13px"}var m=document.getElementById("pgLink"),f=!1;setTimeout(function(){f=!0},500);m.onclick=function(){return f};k(m,!0);var g=function(){if(f){e.storeAgeConfirmation();B(e)}},h=function(){if(f){e.storeAgeConfirmation();e.close(!0)}},y={id:"pgTurnOn",text:J.t("newPgTurnOn",K),clickFunction:g},v={id:"toolTipPlay",text:J.t(n,K),clickFunction:h};I(e,y,Z?null:v);b("pgLink")}function A(e){var t=document.createElement("div");t.id="pinEntry";t.style.width="100%";t.style.height="40px";t.style.marginBottom="20px";e.appendChild(t);var i=document.createElement("input");i.id="pinEntryInputBox";var n=i.style;i.setAttribute("maxlength",4);n.letterSpacing="5px";n.display="block";n.margin="0 auto";n.height="100%";n.width="60%";n.padding="0px";n.resize="none";n.color="#868686";n.fontSize="30px";n.textAlign="center";i.setAttribute("type","password");i.pattern="[0-9]*";t.appendChild(i);return i}function N(e,t){nt.noPlayerAction(et||e?"key_press":"click",t,null,at);et=!1}function D(e,t){var i=!1,n=function(n){n=n||window.event;var a=n.keyCode||n.which;if(13===a&&i){N(!0,e.id);setTimeout(t,300)}};setTimeout(function(){i=!0},400);e.addEventListener?e.addEventListener("keyup",n):e.onkeyup=n}function B(e){P(W);C();L("newPgTurnOnParentalGuidancePINsection");var t=document.createElement("div");t.id="activatePIN";t.style.marginTop="35px";t.style.fontSize="14px";t.style.color="#ffffff";W.appendChild(t);var i=document.createElement("span");i.innerHTML=J.t("newPgEnterPIN",K);i.style.fontSize="14px";i.style.color="#ffffff";t.appendChild(i);var n=document.createElement("div");n.innerHTML='<span style="color:#b2b7c4;">'+J.t("newPgActivateInfo",K)+"</span>";n.id="activatePINInfo";n.style.marginTop="10px";n.style.marginBottom="24px";n.style.fontSize="14px";n.style.color="#868686";W.appendChild(n);var a=A(W);a.setAttribute("aria-label",J.t("pgAriaPINEntryDescription",K)+"."+J.t("pgAriaPINPrompt",K));k(a,!0);var o=function(){if(/^\d{4}$/.test(a.value)){e.setPIN(a.value);e.setLocked(Z);e.close(!Z)}else{a.value="";_(n,J.t("newPgPINvalidationError",K),!1);a.focus()}},r=U(e._intent,"pgActivate");D(a,o);I(e,{id:"pgActivate",text:J.t(r,K),clickFunction:o})}function R(e,t){var i=document.createElement("div");i.style.marginBottom="20px";i.style.width="100%";i.style.height="15px";e.appendChild(i);var n=document.createElement("a");n.setAttribute("target","_blank");n.setAttribute("href","//www.bbc.co.uk/iplayer/guidance");n.id="manageLock";n.innerHTML=t;n.style.color="#ffffff";n.style.textDecoration="none";n.style.width="100%";n.style.fontSize="12px";n.style.bottom="0px";n.style.textAlign="center";i.appendChild(n);b("manageLock");p(n);return n}function j(e){P(W);C();L("newPgTurnOnParentalGuidanceInsertPIN");var t=document.createElement("div"),i=document.createElement("div"),n=document.createElement("span"),a=document.createElement("div");a.id="needPINinfo";t.id="enterPIN";n.innerHTML=J.t("newPgEnterPINprompt",K);t.style.marginTop=t.style.paddingBottom="16px";t.style.width="100%";t.style.position="relative";t.style.fontSize=n.style.fontSize="14px";n.style.color="#ffffff";t.style.marginTop=330>V.offsetWidth?"25px":"5px";W.appendChild(t);t.appendChild(i);i.appendChild(n);t.appendChild(a);a.innerHTML=J.t("newPgEnterPINinfo",K);a.style.color="rgb(134, 134, 134)";a.style.marginTop="15px";var o=A(W);o.setAttribute("aria-label",J.t("pgAriaPINEntryDescription",K)+"."+J.t("newPgEnterPINprompt",K));k(o,!0);var r=R(W,J.t("newPgManageYourPIN",K));k(r);r.onclick=function(){return s};var s=!1;setTimeout(function(){s=!0},500);var l=function(){if(s)if(e.verifyPIN(o.value)){Z&&w(rt,"pgUnlocked","true");e.isUnder16&&e.setUnder16Permission(!0);e.setLocked(!1);e.close(!0)}else{o.value="";_(a,J.t("newPgIncorrectPIN",K),!1);o.focus()}};D(o,l);var d=U(e._intent,"pgUnlock");I(e,{id:"pgTurnOff",text:J.t(d,K),clickFunction:l})}function H(){dt++;clearTimeout(ot);ot=setTimeout(F,100);setTimeout(G,300)}function U(e,t){return Z?t:"download"==e?"pgDownload":"play"==e?"toolTipPlay":e}function F(){if(z){var e=z.style;e.left=e.top="-500px";e.height=e.width="5000px"}if(V){var t=Math.floor(window.innerWidth/2-V.offsetWidth/2);(0>t||dt>0)&&(t=0);window.innerWidth>=400&&(V.style.left=t+"px");var i=window.innerHeight-V.offsetHeight;if(window.innerHeight>=V.offsetHeight){var n=Math.floor(i/2);(dt>0||5>n)&&(n=5)}else n=2;V.style.marginTop="0px";V.style.top=n+"px"}}function G(){var e=document.getElementById("pgHeader"),t=document.getElementById("pgInfo"),i=document.getElementById("pgHeaderTitle"),n=document.getElementById("enterPIN"),a=document.getElementById("pinEntry"),o=document.getElementById("pgErrorMessage"),r=document.getElementById("needPINinfo"),s=document.getElementById("activatePIN"),l=document.getElementById("activatePINInfo"),d=document.getElementById("pinEntryInputBox");if(V.offsetHeight>window.innerHeight){t&&(t.style.marginTop="10px");V.style.width=window.innerWidth-20+"px";e.style.fontSize="22px";V.style.left="10px";if(i){i.style.marginTop="10px";i.style.height="35px"}s&&(s.style.marginTop="0");if(n){n.style.marginTop=330>V.offsetWidth?"25px":"5px";n.style.marginBottom="5px";n.style.paddingBottom="0"}a&&(a.style.marginBottom="10px");d&&(d.style.width="30%");if(o){o.style.marginTop="5px";o.style.width=window.innerWidth-20+"px";o.style.marginLeft="0px";o.style.left="-26px";l&&(l.style.marginBottom="5px")}if(r){r.style.marginTop="5px";r.style.marginBottom="5px"}}else{V.style.left=(window.innerWidth-V.offsetWidth)/2+"px";if(i){i.style.marginTop="35px";i.style.height="42px"}s&&(s.style.marginTop="35px");a&&(a.style.marginBottom="15px");d&&(d.style.width="60%");if(420>window.innerWidth){V.style.width=window.innerWidth-20+"px";V.style.left="10px";t&&(t.style.marginTop="35px");if(o){o.style.marginTop="15px";o.style.width=window.innerWidth-20+"px";o.style.marginLeft="0px";o.style.left="-26px";l&&(l.style.marginBottom="24px")}}r&&(r.style.marginTop="15px");if(n){n.style.marginTop=330>V.offsetWidth?"25px":"5px";n.style.paddingBottom="16px"}}}var z,V,W,q,$,K,J,Q,Y,X,Z,et,tt,it,nt,at,ot,rt="ckns_",st=[],lt=!1,dt=0;y.prototype={show:function(e,t,i,n){var a=this;K=i;h();e||(e={});Z=e.lockClicked;a._intent=e.intent||"play";window.embeddedMedia.opened({type:"guidanceShown",intent:a._intent});if(n)for(var o=0;a.openedCallbacks.length>o;o++)a.openedCallbacks[o]();var r=X&&(!g()||!a._isLocked);a.isOver16&&(X=!0);if(!r||Z||a.isUnder16){if(E(a)){g()&&!it&&!this.guidance.under16permissionConfirmed&&this._isLocked?j(a):Z&&r||a.isOver16?O(a):M(a,e.guidance);document.body.addEventListener&&document.body.addEventListener("touchmove",u);dt=0;if(window.addEventListener){window.addEventListener("resize",F);window.addEventListener("orientationchange",H)}}}else a.close(!0)},close:function(e,t){var i=this;document.body.removeEventListener&&document.body.removeEventListener("touchmove",u);if(window.removeEventListener){window.removeEventListener("resize",F);window.removeEventListener("orientationchange",H)}m();if(z){z.parentNode.removeChild(z);z=void 0}if(V){V.parentNode.removeChild(V);V=void 0}if(!t){var n={type:"guidanceClosed"};n.success=e;window.embeddedMedia.closed(n);for(var a=0;i.closedCallbacks.length>a;a++)i.closedCallbacks[a](e)}},setPIN:function(e){tt=c("smpembed"+e);w(rt,"pgPIN",tt)},setLocked:function(e,t){if(t){w(rt,"pgUnlocked",e?"":"true");it=!e}this._isLocked=e;this.updateGuidanceState()},verify:function(e,t){var i=this.verifyPIN(e.verifyPIN);if(i){this.setLocked(!1);e.lockClicked&&w(rt,"pgUnlocked","true")}t(i)},verifyPIN:function(e){return c("smpembed"+e)===tt},setAgeConfirmation:function(e){X=e;this.storeAgeConfirmation()},storeAgeConfirmation:function(){if(!this.isUnder16){w(rt,"pgAgeConfirm",X);this.setLocked(!0)}},setUnder16Permission:function(e){lt=e;this.updateGuidanceState()},updateGuidanceState:function(){var e=this.guidance;e.isGuidanceLocked=this._isLocked&&g()&&!it;e.hasGuidancePIN=g();e.guidanceSkipped=X&&!g();e.guidancePINPassed=!this._isLocked&&g();e.under16permissionConfirmed=lt;e.canPlay=e.guidanceSkipped||e.hasGuidancePIN&&e.guidancePINPassed||it;!this.isUnder16||e.isGuidanceLocked&&!e.guidancePINPassed||e.under16permissionConfirmed||(e.canPlay=!1);for(var t=0;this.updateCallbacks.length>t;t++)this.updateCallbacks[t](e)}};return y}(),P=function(){function e(e,i,n){if(e){var a=e.className;if(""!==a){a=a.replace(t(n||"",i),"").trim()+" "+i;e.className=a.trim().replace(/\s+/g," ")}else e.className=i}}function t(e,t){var i=e+" "+t;i=i.trim().replace(/\s+/g,"\\b|\\b");return new RegExp("\\b"+i+"\\b","g")}function i(e,t,i){var n=window.embeddedMedia.language,o=i.ui.locale;e.playerSettings=i;var r=e.settingsContainer=document.createElement("div");r.id="p_playbackSettingsContainer";r.className="p_dontCloseSettingsPanel";r.style.display="none";var s=document.createElement("div");s.id="p_playbackSettingsMask";r.appendChild(s);var l=e.settingsBox=document.createElement("div");l.id="p_playbackSettingsBox";r.appendChild(l);var d=e.settingsHeading=document.createElement("div");d.id="p_playbackSettingsHeading";d.textContent=n.t("playbackSettingsHeading",o);l.appendChild(d);var c=document.createElement("div");c.id="p_panel1";l.appendChild(c);var u=e.autoplayRow=document.createElement("div");u.id="p_autoplayRow";u.className="p_settingsRow";c.appendChild(u);e.playbackSettingObject.continuousPlaySetting&&(u.style.display="block");var p=document.createElement("div");p.id="p_autoplayText";p.className="p_settingsTextBox";u.appendChild(p);var m=e.autoplaySettingHeading=document.createElement("div");m.id="p_autoplayTitle";m.className="p_settingsTitle";m.textContent=n.t("autoplaySettingHeading",o);p.appendChild(m);var f=e.autoplaySettingSubheading=document.createElement("div");f.id="p_autoplaySubtitle";f.className="p_settingsSubtitle";f.textContent=n.t("autoplaySettingSubheading",o);p.appendChild(f);var g=e.autoplayToggle=new a(n.t("autoplaySettingHeading",o),"p_autoplayToggle",null,o,i.ui.alternateColour);i.continuousPlay&&g.setOn();g.attachChangeListener(function(e){t.updateConfig("turningOff"==e?{continuousPlay:!1}:{continuousPlay:!0})});u.appendChild(g.getDomNode());return r}function n(e,t,n){if(!n.container instanceof Element)return!1;if(!window.embeddedMedia.playbackSettingsMenu){var a=document.getElementsByTagName("head")[0],o=document.createElement("link");o.type="text/css";o.rel="stylesheet";o.href="//emp.bbci.co.uk/emp/assets/2.0.23/bump-4.css";a.appendChild(o)}this.container=n.container;this.playbackSettingObject=n;this.playbackSettingsContainer=i(this,t,e);this.container.hasChildNodes()&&this.container.removeChild(this.container.childNodes[0]);this.container.appendChild(this.playbackSettingsContainer);var r=!e.ui.disableReithFonts;document.documentElement.className.indexOf("b-reith-sans-font")>=0&&r?this.container.className+="font-family-sans":this.container.style.fontFamily="helvetica, Arial, sans-serif";return this}!function(){function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var i=document.createEvent("CustomEvent");i.initCustomEvent(e,t.bubbles,t.cancelable,t.detail);return i}if("function"==typeof window.CustomEvent)return!1;e.prototype=window.Event.prototype;window.CustomEvent=e}();var a=function(){function t(e,t,n,a,o){var r=e._toggleNode=document.createElement("div");n&&(r.id=n);r.className=a?"p_toggle "+a:"p_toggle";r.setAttribute("role","checkbox");r.setAttribute("aria-checked","false");r.setAttribute("aria-label",t);r.tabIndex=0;var s=e._toggleText=document.createElement("div");s.className="p_toggleText";s.textContent="OFF";var l=document.createElement("div");l.className="p_toggleSlot";var d=document.createElement("div");d.className="p_toggleSlider";var c=document.createElement("div");c.className="p_tick";d.appendChild(c);l.appendChild(d);r.appendChild(s);r.appendChild(l);e.toggleSlot=l;e.toggleSlider=d;e.tick=c;i(e,r);r.addEventListener("keyup",function(){if(document.activeElement===r){r.style.boxShadow="inset 0 0 0 2px "+o;r.style.webkitBoxShadow="inset 0 0 0 2px "+o}});r.addEventListener("blur",function(){r.style.boxShadow=""});return r}function i(e,t){t.addEventListener("click",function(){e.flip()});t.addEventListener("keyup",function(t){var i=t.keyCode;(32==i||13==i)&&e.flip()})}function n(e,t){for(var i=0;e.changeListeners.length>i;i++)e.changeListeners[i](t)}var a=function(e,i,n,a,o){this.language=window.embeddedMedia.language;this.locale=a;this.alternateColour=o;this.changeListeners=[];this.locale=a;t(this,e,i,n,o)};a.prototype={getDomNode:function(){return this._toggleNode},flip:function(){"true"==this._toggleNode.getAttribute("aria-checked")?n(this,"turningOff"):n(this,"turningOn")},setOn:function(){var t=this.language,i=this.locale;this._toggleNode.setAttribute("aria-checked","true");e(this._toggleNode,"p_toggleOn");this._toggleText.textContent=t.t("on",i);this.toggleSlot.style.backgroundColor=this.alternateColour;this.toggleSlot.style.borderColor=this.alternateColour;this.tick.style.borderColor=this.alternateColour},setOff:function(){var t=this.language,i=this.locale;this._toggleNode.setAttribute("aria-checked","false");e(this._toggleNode,"","p_toggleOn");this._toggleText.textContent=t.t("off",i);this.toggleSlot.style.backgroundColor="#A4A4A4";this.toggleSlot.style.borderColor="#A4A4A4"},attachChangeListener:function(e){this.changeListeners.push(e)}};return a}();n.prototype={togglePanel:function(){if(this.container)if(this.playbackSettingsPanelShowing){this.closePanel();e=new CustomEvent("bumpPlaybackSettingsPanelClosed");this.container.dispatchEvent(e)}else{this.showPanel();var e=new CustomEvent("bumpPlaybackSettingsPanelOpened");this.container.dispatchEvent(e)}},showPanel:function(){if(!this.playbackSettingsPanelShowing){this.settingsContainer.style.display="block";this.playbackSettingsPanelShowing=!0}},closePanel:function(){if(this.playbackSettingsPanelShowing){this.settingsContainer.style.display="none";this.playbackSettingsPanelShowing=!1}},setAutoplayOn:function(){this.autoplayToggle.setOn()},setAutoplayOff:function(){this.autoplayToggle.setOff()},reset:function(){this.settingsContainer.style.display="none";this.playbackSettingsPanelShowing=!1}};return n}(),k=function(){function e(e,t){t=t||{};try{var i=[];if(e.media){var n=e.media.getVersionId()||e.media.getServiceId()||e.media.getVpId()||e.media.getNonPipsMetadataId();n&&i.push("PID="+n)}if(e.player){var a=e.player;t.includeVolume&&i.push("VOL="+(11*a.volume()).toFixed(0));t.time!==!1&&i.push("TIM="+a.currentTime().toFixed(1));"number"==typeof t.before_seek_time&&i.push("BST="+t.before_seek_time.toFixed(1));if(t.playState!==!1){var o="unknown",r=a.player;r._seeking?o="seeking":r._ended?o="ended":r._paused?o="paused":r._playing&&(o="playing");i.push("PST="+o)}}}catch(s){console.log(s)}t.metadata||(t.metadata=i.join("~").substr(0,250));return t}function t(){var e=this;this.duration=0;this.isLive=!1;this.hasPlayed=!1;this.hasSetMediaItem=!1;return e}function i(e){var t=l(e,{}),i={},n=f.ManagedLabels;for(var a in n)if(n.hasOwnProperty(a)){var o=n[a];if(t.hasOwnProperty(o)){i[o]=t[o];delete t[o]}}var r={};r.managedLabels=i;r.otherLabels=t;return r}function n(e,t){for(var i in e)e.hasOwnProperty(i)&&"undefined"!=typeof e[i]&&t.echo.addLabel(i,e[i])}function a(e,t){for(var i in e)e.hasOwnProperty(i)&&t.echo.addManagedLabel(i,e[i])}function o(e,t){if(e)for(var i in e)e.hasOwnProperty(i)&&t.echo.removeLabel(i)}function r(e,t){if(e){var o=i(e);a(o.managedLabels,t);n(o.otherLabels,t)}}function s(e,t){o(t.managedPlaylistLabels,t);o(t.playlistLabels,t);if(e){var r=i(e);t.managedPlaylistLabels=r.managedLabels;t.playlistLabels=r.otherLabels;a(r.managedLabels,t);n(r.otherLabels,t)}else{t.managedPlaylistLabels={};t.playlistLabels={}}}function l(e,t){for(var i in e)e.hasOwnProperty(i)&&"undefined"!=typeof e[i]&&(t[i]=e[i]);return t}function d(e){var t="",i=!1;try{t=document.cookie+""}catch(n){}var a=t.indexOf("ckns_policy="),o=t.indexOf("ckns_explicit=1");if(a>=0&&o>=0){var r=t.substr(a+14,1);"1"===r&&(i=!0)}var s=!1,l=e.counterName+"";l.indexOf("iplayer.tv")>=0&&(s=!0);return i&&e.enableBarbReporting&&s}function c(e,t){if(e.hasSetMediaItem){var i=e.echo,n=t.supplier,a=t.encoding;n&&i.setMediaCDN(n);a&&i.setMediaCodec(a)}}function u(e,t){t||(t={connections:[]});e.end();e.durationSet=!1;e.isLive=t.isLive;var i=e.isLive?f.MediaConsumptionMode.LIVE:f.MediaConsumptionMode.ON_DEMAND,n="audio"==t.type?f.AvType.AUDIO:f.AvType.VIDEO,a=e.player.player._statsObject||{};a.overrideConsumptionMode&&(i=a.overrideConsumptionMode);var o=e.media=new p(n,i),r=t.identifier,s=t.versionID,l=t.serviceID;a.overrideVersionPID&&(s=a.overrideVersionPID);if(r){if(!s&&!l){o.setVpId(r);e.isLive?o.setServiceId(r):o.setVersionId(r)}}else if(a.playlistURL){var d=(a.playlistURL+"").replace(/\W+/gim,"-");o.setNonPipsContentId(d)}s&&o.setVersionId(s);if(l){o.setServiceId(l);e.playlistName||o.setPlaylist(l)}e.playlistName&&o.setPlaylist(e.playlistName);e.title&&o.setName(e.title);if(e.parentPID){e.parentPIDType==f.PIPsType.EPISODE&&o.setEpisodeId(e.parentPID);e.parentPIDType==f.PIPsType.CLIP&&o.setClipId(e.parentPID)}if(e.episodePID){o.setType(f.PIPsType.EPISODE);o.setEpisodeId(e.episodePID)}if(e.clipPID){o.setType(f.PIPsType.CLIP);o.setClipId(e.clipPID)}e.brandPID&&o.setBrandId(e.brandPID);e.seriesPID&&o.setSeriesId(e.seriesPID);a.producer&&o.setProducer(a.producer);e.player.player.playlist&&e.player.player.playlist.hasAds&&o.setAdsEnabled(!0);e.player._settings.embeddedOffsite&&o.setIsEmbedded(!0);try{e.echo.setMedia(o);e.hasSetMediaItem=!0}catch(c){e.hasSetMediaItem=!1}}var p,m,f,g,h;t.prototype={initComplete:function(e){var t=this;if(m&&!t.echo){var i=e._settings,n=e.name().replace(/-/gm,""),a=i.appName&&""!==i.appName?i.appName:n,o=i.appType&&""!==i.appType?i.appType:f.ApplicationType.WEB,r={},s=e.player._statsObject||{};r[g.COMSCORE_ENABLED]=!1;r[g.ECHO_TRACE]=s.trace;s.deviceId&&(r[g.ECHO_DEVICE_ID]=s.deviceId);r[g.BARB_ENABLED]=d(i);r[g.BARB_DEBUG]=!1;r[g.BARB_SITE_CODE]=i.liveEnvironment?"bbcdotcom":"bbcdotcomtest";var l=s.echoProfile||"public_service";r[g.REPORTING_PROFILE]=l;if("public_service"!==(l+"").toLowerCase()){t.ssc=r[g.USE_SSC]=!0;r[g.SSC_HOSTNAME]=".com"}r[g.USE_ESS]=!0;i.liveEnvironment||(r[g.ESS_HOSTNAME]="ess.test.api.bbci.co.uk");r[g.ATI_ENABLED]=i.enableAtiReporting;r[g.ATI_FORCE_HTTPS]=!0;s.destination&&(r[g.DESTINATION]=s.destination);try{var c=t.echo=new m(a,o,r);i.appVersion&&c.setAppVersion(i.appVersion);t.player.player._version&&t.echo.setPlayerVersion(t.player.player._version);t.processNewSettings();c.setPlayerName(n);c.setPlayerDelegate({getPosition:function(){return t.currentTime()},getTimestamp:function(){return t.currentTime(!0)}})}catch(u){}}},report:function(e){var t=this;if(t.hasSetMediaItem){var i=t.currentTime();t.echo["av"+e+"Event"](i)}},noPlayerAction:function(e,t,i,n){var a=this;if(a.echo)a.action(e,t,i);else{if(!a.nonPlayerEcho&&m){n||(n={});var o={};o[g.REPORTING_PROFILE]="public_service";a.nonPlayerEcho=new m("iplayer",f.ApplicationType.WEB,o);a.nonPlayerEcho.setCounterName(n.counterName||"smp.no-player.page")}a.nonPlayerEcho&&a.nonPlayerEcho.userActionEvent(e,t,l(i,{}))}},end:function(){this.hasPlayed&&this.report("End")},action:function(e,t,i){var n=this;n.echo&&n.echo.userActionEvent(e,t,l(i,{}))},newPlayer:function(e,t){var i=this;i.player=e;if(t||i.boundEvents){i.boundEvents=!0;var n=t?"bind":"unbind";e[n]("changingsrc durationchange info initialised mediaItemChanged playing playlistLoaded playlistLoading seeking SonarEndEvent SonarPauseEvent SonarPlayEvent SonarBufferEvent SonarErrorEvent SonarResumeEvent SonarSeekEvent SonarUserActionEvent volumechange uiinfo bitrateChanged fullscreenEnter fullscreenExit picInPicStarted picInPicStopped statsConfigChanged",{sonarReporter:i},i.eventHandler);i.initComplete(e)}},init:function(e){var t=this,i={},n="12.0.0";i["echo-"+n]="//mybbc-analytics.files.bbci.co.uk/echo-client-js/echo-"+n+(e?"":".min");if(window.require&&require.config){require.config({paths:i});require(["echo-"+n],function(e){if(e){p=e.Media;m=e.EchoClient;f=e.Enums;g=e.ConfigKeys;h=e.Environment;if(p&&m&&f&&g&&h){var i=t.player;if(i){i._settings.liveEnvironment||e.Debug.enable();t.initComplete(i)}}}})}},eventHandler:function(t){var i=t.data.sonarReporter;if(i.echo)switch(t.type){case"bitrateChanged":"video"==t.streamType&&i.mediaBitrate(t.newBitrate);break;case"changingsrc":c(i,t);break;case"durationchange":if(i.media&&!i.isLive&&t.duration>0&&!i.durationSet){i.echo.setMediaLength(1e3*t.duration);i.durationSet=!0}break;case"initialised":i.player.player._version&&i.echo.setPlayerVersion(i.player.player._version);break;case"mediaItemChanged":i.hasPlayed=!1;u(i,t.mediaItem);break;case"playing":i.hasPlayed=!0;break;case"playlistLoaded":i.processNewSettings();break;case"playlistLoading":i.end();break;case"seeking":i.report("Seek");break;case"SonarErrorEvent":t.errorItem&&"critical"==t.errorItem.severity&&i.end();break;case"SonarEndEvent":case"SonarPauseEvent":i.report("Pause");break;case"SonarPlayEvent":case"SonarResumeEvent":i.report("Play");break;case"SonarBufferEvent":i.report("Buffer");break;case"SonarSeekEvent":i.player.paused()||i.report("Play");break;case"SonarUserActionEvent":i.action(t.actionType,t.controlId,e(i,t.labels));break;case"volumechange":i.echo.setPlayerVolume(t.muted?0:t.volume);break;case"uiinfo":i.echo.setPlayerIsSubtitled(!!t.subtitles);break;case"fullscreenEnter":i.echo.setPlayerWindowState(f.WindowState.FULL);break;case"fullscreenExit":case"picInPicStopped":i.echo.setPlayerWindowState(f.WindowState.NORMAL);break;case"picInPicStarted":i.echo.setPlayerWindowState(f.WindowState.PICTUREINPICTURE);break;case"statsConfigChanged":t.counterName&&(i.player._settings.counterName=t.counterName)}},volume:function(e){var t=this;e>=0&&1>e&&t.echo.setPlayerVolume(Math.floor(100*e))},mediaBitrate:function(e){e&&this.echo.setMediaBitrate(e)},forAir:function(e){var t=this;e=e||{};if(!e.deviceId)try{e.deviceId=t.echo.getComScoreDeviceId()}catch(i){}return e},processNewSettings:function(){var e=this,t=e.player._settings,i=e.player.player._statsObject||{};e.echo.setCounterName(t.counterName);i.producer&&e.echo.setProducer(i.producer);e.parentPID=i.parentPID;e.parentPIDType=f.PIPsType.EPISODE;e.episodePID=i.episodePID;e.clipPID=i.clipPID;e.brandPID=i.brandPID;e.seriesPID=i.seriesPID;e.playlistName=i.playlistName;e.player.player.playlist&&e.player.player.playlist.title&&(e.title=e.player.player.playlist.title);r(i.sessionLabels,e);s(i.playlistLabels,e);(i.parentPIDType+"").indexOf("clip")!=-1&&(e.parentPIDType=f.PIPsType.CLIP)},currentTime:function(e){var t=this,i=Math.round(1e3*t.player.currentTime());return e?1e3*60*60*24*365>i?0:i:t.isLive?0:i}};return t}(),C=function(){function t(e){var t=e._settings;if("audio"!=t.ui.skin){var i=t.container,n=t.posterUrl(i);if(!n||e.player&&!e.player.includePoster)i.style.backgroundImage="";else{var a="contain";(t.ui.displayCover||Math.abs(16/9-i.getBoundingClientRect("width")/i.getBoundingClientRect("height"))<.2)&&(a="cover");i.style.backgroundImage="url("+n+")";i.style.backgroundRepeat="no-repeat";i.style.backgroundPosition="center center";i.style.backgroundSize=a;i.style.backgroundColor="black";i.style.overflow="hidden"}"html"==e.type&&(i.style.overflow="")}}function i(t,i){var n=window.embeddedMedia;a=e.get();this.bumpRevision="-1";this.player=new l;this.player.fake=!0;this._events={};this.capability={markers:!1,queuedPlaylist:!1,previousPlaylist:!1,inPage:!1,chromecast:!1,overlay:!1};i.container=t;i.domid=t.getAttribute("id");var r=this._settings=new o(i);
if(r.enableSonarReporting&&!r.noTracking){this._sonarReporter=new k;this._sonarReporter.init(r.html5Debug)}n.parentalGuidance||(n.parentalGuidance=new w(this._sonarReporter,r));r.guidance=n.parentalGuidance.guidance;var s=this,d=n.parentalGuidance;d.closedCallbacks.push(function(){var e={type:"guidanceClosed",guidance:r.guidance};s.trigger(e)});d.openedCallbacks.push(function(){var e={type:"guidanceShown"};s.trigger(e)});d.updateCallbacks.push(function(e){e.noPin=r.guidanceCleared;r.guidance=e;var t={type:"guidanceUpdated",guidance:r.guidance};s.trigger(t)});a.preferHtmlAudio&&"undefined"==typeof i.preferInlineAudioPlayback&&(r.preferInlineAudioPlayback=!0);this._decisionEngine=new b(r);return this}var a;i.prototype={showGuidance:function(e,t,i,n){var a={lockClicked:i};a.title=e?e:"";a.guidance=t?t:"";a.intent=n?n:"play";var o=window.embeddedMedia.parentalGuidance,r=this._settings;r.guidanceCleared||o.show(a,r.ui.colour,r.locale(),!0)},lockGuidance:function(){this._settings.guidance.hasGuidancePIN===!0?window.embeddedMedia.parentalGuidance.setLocked(!0,!0):this.unlockGuidance()},unlockGuidance:function(){this.showGuidance("","",!0)},togglePlaybackSettingsPanel:function(e){if(e&&e.container){var t=this._settings,i=window.embeddedMedia,n=JSON.stringify(i.playbackSettingObject)!==JSON.stringify(e),a=i.playbackSettingObject&&i.playbackSettingObject.container!==e.container;i.playbackSettingObject=e;i.playbackSettingObject.container=e.container;if(!i.playbackSettingsMenu||n||a){i.playbackSettingsMenu&&i.playbackSettingsMenu.reset();i.playbackSettingsMenu=new P(t,this,e)}i.playbackSettingsMenu.togglePanel()}},name:function(){return this._decisionEngine.name||"no-player"},decide:function(){(!this.player||this.player.fake||"smp-phantom"==this.name()&&!this._settings.phantomPlayer)&&(this.player=this._decisionEngine.decide());return this.name()},settings:function(e,t){e&&this._settings.set(e);t&&this.player.updateConfig(e);return this._settings},poster:function(e){if("string"==typeof e){this._settings._poster=e;t(this)}},play:function(e){this.player.play(e!==!1)},pause:function(){this.player.pause()},suspend:function(){this.player.suspend()},next:function(e){this.player.next(e)},previous:function(e){this.player.previous(e)},currentTime:function(e){return this.player.currentTime(e)},showSubtitles:function(e){return this.player.showSubtitles(e)},duration:function(){return this.player.duration()},muted:function(e){return this.player.muted(e)},queuePlaylist:function(e,t){var i=this,n=i.player;n.queuePlaylist(e,t)},setPreviousPlaylist:function(e,t){var i=this,n=i.player;n.setPreviousPlaylist(e,t)},loadPlaylist:function(e,i){var a=this,o=a.player,r=a._settings;r.autoplay=!1;r.playlist="";r._poster=null;r.playlistObject=null;r.overrideHoldingImage=null;r.overrideCtaDuration=null;r.webcastData={};r.statsObject.parentPID=void 0;r.statsObject.parentPIDType=void 0;r.statsObject.episodePID=void 0;r.statsObject.clipPID=void 0;r.statsObject.brandPID=void 0;r.statsObject.seriesPID=void 0;r.statsObject.playlistLabels=void 0;r.statsObject.playlistURL=void 0;r.statsObject.playlistName=void 0;r.playlistObject=e;r.startTime=0;a.settings(i);o._statsObject=n.clone(r.statsObject);o.includePoster&&(r.autoplay?setTimeout(function(){t(a)},100):t(a));o._lastSignificant=r.startTime;r.phantomPlayer||"smp-phantom"!=o._name?o.loadPlaylist(a):this.load()},kind:function(){return this.player.kind()},captureIntent:function(e){return this.player.captureIntent(e)},stop:function(){this._settings.autoplay=!1;return this.player.stop()},loadPlugin:function(e,t){if(this.player.loadPlugin)this.player.loadPlugin(e,t);else if(e){e.data=t;this._settings.plugins.toLoad.push(e)}},updateUiConfig:function(e){var t=this._settings,i=t.locale();n.merge(t.ui,e);i!=t.locale()&&window.embeddedMedia.language.load(t.locale());this.player.updateUiConfig(e)},updateConfig:function(e){var t=this._settings,i=t.locale();n.merge(t.ui,e);i!=t.locale()&&window.embeddedMedia.language.load(t.locale());this.player.updateConfig(e)},updateQuality:function(e){var t=this._settings;t.set(e);this.player.updateQuality(e)},setData:function(e){this._settings.plugins.smpAirPluginData=e;this.player.setData(e)},setPoster:function(e,t){this.player.setPoster(e,t)},dispatchEvent:function(e,t){this.player.dispatchEvent(e,t)},pauseAt:function(e){this.player.pauseAt(e)},webcastData:function(e){this._settings.webcastData=e;this.player.webcastData(e)},volume:function(e){var t=this.player.volume(e);return t},paused:function(){return this.player.paused()},ended:function(){return this.player.ended()},seeking:function(){return this.player.seeking()},mediaItem:function(){return this.player.mediaItem()},playlist:function(){return this.player.loadedPlaylist()},bind:function(e,t,i){for(var n=(e+"").split(/\s/),a=0;n.length>a;a++){var o=n[a];this._events[o]||(this._events[o]=[]);if(i)r={obj:t,handler:i};else var r=t;this._events[o].push(r)}},trigger:function(e){var t=e.type;if(this._events[t])for(var i=0;this._events[t].length>i;i++){var n=this._events[t][i];if(n.handler){e.data=n.obj;n.handler(e)}else n(e)}},unbind:function(e,t){if(this._events[e])for(var i=this._events[e].length;i>=0;i--)this._events[e][i]==t&&this._events[e].splice(i,1)},_loadOptions:function(e){var i=this,o=i._decisionEngine._settings=i._settings;i.player&&i.player.immediate&&(e=!0);i.decide();var r=i._decisionEngine.name;if(r){var s=function(e,a){window.embeddedMedia.addPlayer(o.domid,e);i.player=e;e.showErrorDialog=i.showErrorDialog;if(e.includePoster){e.setPoster=function(e){i.poster(e)};t(i)}o.statsObject.playlistURL||(o.statsObject.playlistURL=o.playlist||void 0);e._statsObject=n.clone(o.statsObject);if(i._sonarReporter){i._sonarReporter.newPlayer(i,e.requireSonarJS);e.sonar=i._sonarReporter}a&&(i.capability=a);e.reloadScope=i};if("html"==i.player.type){var d=window.innerHeight;isNaN(d)&&(d=1e3);if(o.container&&o.container.getClientRects){var c=o.container.getClientRects();(!c[0]||d>c[0].y)&&(e=!0)}}window.embeddedMedia.playerInits++;i.create=function(){i.addInitialisationListener(i);i.player.trigger=function(e){i.trigger(e)};i.player.embed(o,s)};if(e||i.player.immediate)i.create();else if(0===window.embeddedMedia.players.length)i.create();else if(window.embeddedMedia.players[0].ready)i.create();else{var p=500*(window.embeddedMedia.playerInits+2);setTimeout(function(){i.create()},p)}}else{t(i);var m=6003;o.dashPlaybackOnly&&!o.threeSixty?m=6012:!a.supportsFlash||o.showUnsupportedMessage||o.threeSixty||(m=6010);var f=new u(m,o);o.ui.hideDefaultErrors||this.showErrorDialog(f);i.trigger(f);v.error(f.code,o);i.player=new l;i.player.fake=!0}return this},load:function(e){var t=this;"string"==typeof e?t._settings.playlist=e:"object"==typeof e&&t._settings.set(e);var i=function(){window.embeddedMedia.language.load(t._settings.locale(),function(){t._loadOptions()});return t};if(a.waitForLoad){if("complete"===document.readyState||"interactive"===document.readyState)return i();document.addEventListener("load",i);return t}return i()},addInitialisationListener:function(e){var t=this._settings,i=setTimeout(function(){if("flash"==e.player.type){t.dashPlaybackOnly=!0;e.player.fake=!0;if("no-player"!=e.decide()){e.create();return}}var i=new u(6004,t);v.error(i.code,t,e.player._name);e.trigger(i)},1e4);e.bind("initialised",function(){clearTimeout(i)})},showErrorDialog:function(e){var t=this._settings,i=t.container,o=t.ui.miniMode&&t.ui.miniMode.enabled,r=document.createElement("div");r.setAttribute("style","width:100%;height:100%;background:rgba(51,51,51,0.85);position:relative");var s=document.createElement("div"),l=s.style;l.position="absolute";if(o){l.width="150px";l.height="80px";l.fontSize="16px"}else{l.width="320px";l.height="160px";l.fontSize="18px";if(a.os.winphone)l.top=l.left=l.marginLeft=l.marginTop=0;else{l.top=l.left="50%";l.marginLeft="-160px";l.marginTop="-80px"}}l.verticalAlign="middle";l.textAlign="center";l.color="white";l.fontFamily="arial, helvetica, sans-serif";var d=document.createElement("div");d.style.backgroundImage="url(//emp.bbci.co.uk/emp/assets/2.0.23/alert.png)";d.style.backgroundRepeat="no-repeat";d.style.backgroundPosition="50% 0";d.style.height="22px";d.style.backgroundSize="22px";var c=document.createElement("div"),u=c.style;u.position="absolute";u.display="block";if(o)u.top=u.left=u.right="8px";else{u.top="38px";u.left=u.right="20px"}c.innerHTML=e.description;if(6010==e.code&&!o){var p=document.createElement("div"),m=p.style;m.position="absolute";m.bottom="20px";m.right=m.left="10px";var f='<a href="https://get.adobe.com/flashplayer" target="_blank" style="color:white;background-color : transparent;">'+window.embeddedMedia.language.t("downloadFlashLink",t.locale())+"</a>";p.innerHTML=window.embeddedMedia.language.t("enableFlash").replace("{link}",f);s.appendChild(p)}r.appendChild(s);o||s.appendChild(d);if(i.getBoundingClientRect("width")<320){l.width="100%";l.fontSize="14px";o||(l.left="160px")}s.appendChild(c);i.appendChild(n.getWrapper(t).appendChild(r))}};return i}();!function(){var e={},t=n.addEmbeddedMedia();t.version=this.bumpVersion="4.6.2";t.api||(t.api={player:function(t,i){var n=t.getAttribute("id");if("undefined"==typeof e[n]||e[n].settings().container!=t){if(!i)throw"No player settings. If you're trying to get a reference, it's probably not created yet.";if(!n){var a="bbcMediaPlayer",o=0;do n=a+o++;while(document.getElementById(n));t.setAttribute("id",n)}e[n]=new C(t,i)}else e[n].settings(i);return e[n]},players:function(){return e}})}();"function"==typeof define&&define.amd&&define("bump-4",[],function(){return window.embeddedMedia.api})}();define("bump-4.js",function(){});